<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Proofable Documentation</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="concepts/index.html"><strong aria-hidden="true">2.</strong> Concepts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="concepts/trie.html"><strong aria-hidden="true">2.1.</strong> Trie</a></li><li class="chapter-item expanded "><a href="concepts/chain_of_trust.html"><strong aria-hidden="true">2.2.</strong> Chain of Trust</a></li><li class="chapter-item expanded "><a href="concepts/anchor_types.html"><strong aria-hidden="true">2.3.</strong> Anchor Types</a></li></ol></li><li class="chapter-item expanded "><a href="cli/index.html"><strong aria-hidden="true">3.</strong> CLI</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="cli/demo.html"><strong aria-hidden="true">3.1.</strong> Demo</a></li><li class="chapter-item expanded "><a href="cli/installation.html"><strong aria-hidden="true">3.2.</strong> Installation</a></li><li class="chapter-item expanded "><a href="cli/usage.html"><strong aria-hidden="true">3.3.</strong> Usage</a></li></ol></li><li class="chapter-item expanded "><a href="go_sdk/index.html"><strong aria-hidden="true">4.</strong> Go SDK</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="go_sdk/getting_started.html"><strong aria-hidden="true">4.1.</strong> Getting started</a></li><li class="chapter-item expanded "><a href="go_sdk/examples.html"><strong aria-hidden="true">4.2.</strong> Examples</a></li><li class="chapter-item expanded "><a href="go_sdk/reference.html"><strong aria-hidden="true">4.3.</strong> Reference</a></li></ol></li><li class="chapter-item expanded "><a href="node_sdk/index.html"><strong aria-hidden="true">5.</strong> Node SDK</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="node_sdk/getting_started.html"><strong aria-hidden="true">5.1.</strong> Getting started</a></li><li class="chapter-item expanded "><a href="node_sdk/examples.html"><strong aria-hidden="true">5.2.</strong> Examples</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="node_sdk/typescript_example.html"><strong aria-hidden="true">5.2.1.</strong> Typescript Example</a></li></ol></li><li class="chapter-item expanded "><a href="node_sdk/reference.html"><strong aria-hidden="true">5.3.</strong> Reference</a></li></ol></li><li class="chapter-item expanded "><strong aria-hidden="true">6.</strong> REST</li><li class="chapter-item expanded "><a href="grpc/index.html"><strong aria-hidden="true">7.</strong> gRPC</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="grpc/demo.html"><strong aria-hidden="true">7.1.</strong> Demo</a></li><li class="chapter-item expanded "><a href="grpc/api_service.html"><strong aria-hidden="true">7.2.</strong> API Service</a></li><li class="chapter-item expanded "><a href="grpc/anchor_service.html"><strong aria-hidden="true">7.3.</strong> Anchor Service</a></li></ol></li><li class="chapter-item expanded "><a href="contribution/index.html"><strong aria-hidden="true">8.</strong> Contribution</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="contribution/update_documentation.html"><strong aria-hidden="true">8.1.</strong> Update documentation</a></li><li class="chapter-item expanded "><a href="contribution/publish_a_new_version.html"><strong aria-hidden="true">8.2.</strong> Publish a new version</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Proofable Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        <a href="https://github.com/SouthbankSoftware/proofable" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#introduction" id="introduction">Introduction</a></h1>
<p><a href="https://pkg.go.dev/github.com/SouthbankSoftware/proofable/pkg/api?tab=doc"><img src="https://img.shields.io/badge/go.dev-reference-007d9c?logo=go&amp;logoColor=white&amp;style=flat-square" alt="go.dev reference" /></a>
<a href="https://goreportcard.com/report/github.com/SouthbankSoftware/proofable"><img src="https://goreportcard.com/badge/github.com/SouthbankSoftware/proofable?style=flat-square" alt="Go Report Card" /></a>
<a href="https://www.npmjs.com/package/proofable"><img src="https://img.shields.io/npm/v/proofable?style=flat-square" alt="NPM Package" /></a>
<a href="http://concourse.provendb.com/teams/main/pipelines/proofable-test"><img src="https://concourse.provendb.com/api/v1/teams/main/pipelines/proofable-test/jobs/test/badge?title=pr" alt="Proofable Test Status" /></a>
<a href="http://concourse.provendb.com/teams/main/pipelines/proofable-deploy"><img src="https://concourse.provendb.com/api/v1/teams/main/pipelines/proofable-deploy/jobs/build-and-deploy/badge?title=cli" alt="Proofable CLI Deploy Status" /></a></p>
<p>Proofable is a general purpose proving framework for certifying digital assets to public blockchains. Overall, it consists:</p>
<ul>
<li>
<p><a href="https://docs.proofable.io/cli"><strong>CLI</strong> (<code>proofable-cli</code>)</a>: the command-line interface (CLI) for API Service (<code>proofable-api</code>). At the moment, it supports proving a file-system to a blockchain</p>
</li>
<li>
<p><a href="https://docs.proofable.io/grpc/api_service.html"><strong>API Service</strong> (<code>proofable-api</code>)</a>: the general purpose proving service that is fast and effective. It provides a set of APIs to manipulate <a href="https://docs.proofable.io/concepts/trie.html">trie structures</a> and generate blockchain proofs for any digital asset. A <a href="https://docs.proofable.io/concepts/trie.html">trie</a> is a dictionary of ordered key-values that can be built incrementally, whose root hash at any given time can be derived efficiently. Once the root hash is proven to a blockchain, every key-value is proven, so as the digital asset stored in that key-value</p>
</li>
<li>
<p><a href="https://docs.proofable.io/grpc/anchor_service.html"><strong>Anchor Service</strong> (<code>provendb-anchor</code>)</a>: the service continuously anchors hashes to blockchains, which is similar to what Chainpoint does, but with much better performance and flexibility. It supports multiple anchor types and proof formats. Digital signing can be also done at the Merkle root level. It is consumed by <code>proofable-api</code>, which is not directly public-accessible at the moment</p>
</li>
</ul>
<p>Links:</p>
<ul>
<li><a href="https://github.com/SouthbankSoftware/proofable">GitHub</a></li>
<li><a href="https://www.proofable.io">Website</a></li>
</ul>
<h1><a class="header" href="#concepts" id="concepts">Concepts</a></h1>
<p>Before diving into code, let's go through these high-level concepts that Proofable is built upon</p>
<h1><a class="header" href="#trie" id="trie">Trie</a></h1>
<p>A trie is a <a href="https://eth.wiki/en/fundamentals/patricia-tree">data structure</a> that behaves like a dictionary of key-values. Any data can be encoded as binaries in a key-value pair. The trie takes care of hashing the data and deriving the <a href="https://en.wikipedia.org/wiki/Merkle_tree">Merkle root</a>. Internally, the key-values of a trie are ordered lexicographically by their keys, which form a prefix tree, as follows:</p>
<p><img src="concepts/../images/example_proof.svg" alt="Trie Dot Graph" /></p>
<p>No matter what order the key-values are put in, the same bag of key-values will always result in the same trie with the same Merkle root. This determinism is known as commutative and associative of data hashing, which allows a trie to be built incrementally with efficiency. The inserts, lookups, updates, and deletes of key-values in a trie are all in O(log(n)). Thus, a new trie can be easily derived by modifying an existing trie. In storage-wise, each trie node is stored in a key-value store with the node's hash as the key and node's data as the value. This makes the trie storage agnostic and flexible enough to support all-sorts of key-value stores, such as embedded databases like LevelDB or blob storages like S3. This also makes modifying an existing trie memory and computation efficient, because only the modified trie nodes need to be loaded from the persistent store, and new nodes need to be saved back.</p>
<p>In Proofable, we extended the trie to be an all-in-one solution package - Proofable certificate. When a trie is updated, a new trie root will be created, but previous trie node data are still there and immutable. The series of trie roots resembles the history of the trie data change. A trie proof (anchoring trie path of the certificate) can be created for each root, which means the hash of the root will be anchored to a blockchain of the user's choice permanently. Once the anchoring is confirmed, all the data contained in the trie at the given root will be mathmatically/cryptographically authenticated, i.e. it will be able to claim that the trie data exist exactly like this at the time of the confirmation. A key-values proof (sub-certificate) can be also extracted from a trie to independently prove a subset of the key-values the user is interested in, e.g. claiming that two key-values of particular interest exist exactly like this at the time of the confirmation. When all manipulations are done, the trie can be exported by the user and put in a safe place they have full control. Later on, the trie can be imported back to do further manipulations.</p>
<p>Using the trie as the basis for Proofable and <a href="https://www.provendb.com/">ProvenDB</a> has the following advantages over more simplistic approaches:</p>
<ul>
<li>Very large amounts of data can be anchored to a blockchain in a single transaction. Only the root of a trie needs to be included in the blockchain transaction. The trie structure itself forms the link between that transaction and the individual elements being proved.</li>
<li>The trie supports hierarchies of proof – we can generate proofs for a specific directory for instance, as well as proofs for all the items in the directory.</li>
<li>The trie can be built incrementally, reducing the burden of recalculating an entire proof when new elements are added.</li>
</ul>
<h1><a class="header" href="#chain-of-trust" id="chain-of-trust">Chain of Trust</a></h1>
<p><img src="concepts/../images/chain_of_trust.png" alt="Chain of Trust" /></p>
<p>When a piece of information (data) is anchored to a blockchain by Proofable using a Merkle trie, we can work backward using the corresponding Merkle trie path to assert that the data has existed from the time of the blockchain transaction. The Merkle trie path itself becomes a certificate for the data. We can generate such a certificate to prove that the data has existed from a timestamp. If the data is an image, then we can use the certificate to verify an arbitrary image and see whether someone has tampered with it. We can also use the timestamp to verify the certificate itself, such that when we trust the timestamp, we can check the validity of the certificate and then the image. In this way, the surface area for potential forgery attack is reduced to a block. Or if we remembered and trusted the transaction hash of the certificate, the attack surface is reduced to that transaction. The timestamp and transaction hash are the seed information like the <a href="https://en.wikipedia.org/wiki/First_principle">first principles</a> in philosophy which we can base our trust on. In this way, a chain of trust is formed from the blockchain seeds to our image contents as in above figure. For more details, please check out our Medium post <a href="https://medium.com/@guiguan/build-trust-into-image-with-blockchain-4894c39bde7f">Build Trust into Image with Blockchain</a></p>
<h1><a class="header" href="#anchor-types" id="anchor-types">Anchor Types</a></h1>
<p>An anchor type is a type of blockchain that is supported by Proofable to anchor your data. The following list represents the available anchor types in Proofable's production environment</p>
<table><thead><tr><th>Name</th><th>Number</th><th>Available</th><th>Batch Size</th><th>Batch Time</th><th>Description</th></tr></thead><tbody>
<tr><td>ETH</td><td>0</td><td>YES</td><td>16384</td><td>30s</td><td><a href="https://ethereum.org/">Ethereum</a> Rinkeby Testnet</td></tr>
<tr><td>ETH_MAINNET</td><td>3</td><td>YES</td><td>32768</td><td>10m</td><td>Ethereum Mainnet. <a href="https://ethereum.org/">Ethereum</a> is the second-largest cryptocurrency</td></tr>
<tr><td>ETH_ELASTOS</td><td>4</td><td></td><td></td><td></td><td><a href="https://www.elastos.org/">Elastos</a>, which employs a &quot;main chain-sidechain architecture&quot;</td></tr>
<tr><td>ETH_GOCHAIN</td><td>9</td><td></td><td></td><td></td><td><a href="https://gochain.io/">GoChain</a>, which is scalable, low cost and energy efficient</td></tr>
<tr><td>BTC</td><td>1</td><td>YES</td><td>32768</td><td>1m</td><td><a href="https://bitcoin.org/">Bitcoin</a> Testnet</td></tr>
<tr><td>BTC_MAINNET</td><td>5</td><td>YES</td><td>32768</td><td>3h</td><td>Bitcoin Mainnet. <a href="https://bitcoin.org/">Bitcoin</a> is the largest cryptocurrency</td></tr>
<tr><td>CHP</td><td>2</td><td></td><td></td><td></td><td><a href="https://chainpoint.org/">Chainpoint</a></td></tr>
<tr><td>HEDERA</td><td>6</td><td>YES</td><td>3072</td><td>3s</td><td>Hedera Testnet</td></tr>
<tr><td>HEDERA_MAINNET</td><td>7</td><td>YES</td><td>3072</td><td>3s</td><td>Hedera Mainnet. <a href="https://www.hedera.com/">Hedera</a> is a DAG based blockchain that provides much better TPS than tranditional blockchains</td></tr>
<tr><td>HYPERLEDGER</td><td>8</td><td></td><td></td><td></td><td><a href="https://www.hyperledger.org/use/fabric">Hyperledger Fabric</a>, which is a modular blockchain framework for private enterprises</td></tr>
</tbody></table>
<h1><a class="header" href="#cli" id="cli">CLI</a></h1>
<p><a href="http://concourse.provendb.com/teams/main/pipelines/proofable-deploy"><img src="https://concourse.provendb.com/api/v1/teams/main/pipelines/proofable-deploy/jobs/build-and-deploy/badge?title=cli" alt="Proofable CLI Deploy Status" /></a></p>
<p><code>proofable-cli</code> is the command-line interface (CLI) for <a href="https://docs.proofable.io/">Proofable</a> API Service (<code>proofable-api</code>). At the moment, it supports certifying a file-system to blockchains</p>
<ul>
<li><a href="https://github.com/SouthbankSoftware/proofable/tree/master/cmd/proofable-cli">GitHub</a></li>
</ul>
<h1><a class="header" href="#demo" id="demo">Demo</a></h1>
<p>This demo shows how to use <code>proofable-cli</code> to prove a directory of source code</p>
<script id="asciicast-346585" src="https://asciinema.org/a/346585.js" data-autoplay="true" async></script>
<h1><a class="header" href="#installation" id="installation">Installation</a></h1>
<h3><a class="header" href="#for-macos-users" id="for-macos-users">For macOS users</a></h3>
<h4><a class="header" href="#install-via-a-hrefhttpsbrewshhomebrewa" id="install-via-a-hrefhttpsbrewshhomebrewa">Install via <a href="https://brew.sh/">Homebrew</a></a></h4>
<ol>
<li><code>brew tap southbanksoftware/proofable</code></li>
<li><code>brew install proofable-cli</code></li>
</ol>
<p>Later on, you can upgrade to the latest version using: <code>brew upgrade proofable-cli</code></p>
<h4><a class="header" href="#install-directly" id="install-directly">Install directly</a></h4>
<p>Copy and paste the following bash command in a <a href="https://support.apple.com/en-au/guide/terminal/welcome/mac">macOS Terminal</a>:</p>
<pre><code class="language-bash">bash -c &quot;$(eval &quot;$(if [[ $(command -v curl) ]]; then echo &quot;curl -fsSL&quot;; else echo &quot;wget -qO-&quot;; fi) https://raw.githubusercontent.com/SouthbankSoftware/proofable/master/cmd/proofable-cli/install.sh&quot;)&quot;
</code></pre>
<p>Then hit return to run, which will install the latest <code>proofable-cli</code> binary into <code>/usr/local/bin</code>. Then you can use the CLI as:</p>
<pre><code class="language-bash">proofable-cli -h
</code></pre>
<p>If you want to install the latest dev (cutting edge) binary, using:</p>
<pre><code class="language-bash">ENV=dev bash -c &quot;$(eval &quot;$(if [[ $(command -v curl) ]]; then echo &quot;curl -fsSL&quot;; else echo &quot;wget -qO-&quot;; fi) https://raw.githubusercontent.com/SouthbankSoftware/proofable/master/cmd/proofable-cli/install.sh&quot;)&quot;
</code></pre>
<p>To upgrade, simply repeat the installation steps</p>
<h3><a class="header" href="#for-linux-users" id="for-linux-users">For Linux users</a></h3>
<h4><a class="header" href="#install-via-a-hrefhttpsbrewshhomebrewa-1" id="install-via-a-hrefhttpsbrewshhomebrewa-1">Install via <a href="https://brew.sh/">Homebrew</a></a></h4>
<ol>
<li><code>brew tap southbanksoftware/proofable</code></li>
<li><code>brew install proofable-cli</code></li>
</ol>
<p>Later on, you can upgrade to the latest version using: <code>brew upgrade proofable-cli</code></p>
<h4><a class="header" href="#install-directly-1" id="install-directly-1">Install directly</a></h4>
<p>Copy and paste the following bash command in a <a href="https://ubuntu.com/tutorials/command-line-for-beginners#1-overview">Linux shell prompt</a>:</p>
<pre><code class="language-bash">sudo bash -c &quot;$(eval &quot;$(if [[ $(command -v curl) ]]; then echo &quot;curl -fsSL&quot;; else echo &quot;wget -qO-&quot;; fi) https://raw.githubusercontent.com/SouthbankSoftware/proofable/master/cmd/proofable-cli/install.sh&quot;)&quot;
</code></pre>
<p>Then hit return to run, which will install the latest <code>proofable-cli</code> binary into <code>/usr/local/bin</code>. Then you can use the CLI as:</p>
<pre><code class="language-bash">proofable-cli -h
</code></pre>
<p>If you want to install the latest dev (cutting edge) binary, using:</p>
<pre><code class="language-bash">sudo ENV=dev bash -c &quot;$(eval &quot;$(if [[ $(command -v curl) ]]; then echo &quot;curl -fsSL&quot;; else echo &quot;wget -qO-&quot;; fi) https://raw.githubusercontent.com/SouthbankSoftware/proofable/master/cmd/proofable-cli/install.sh&quot;)&quot;
</code></pre>
<p>To upgrade, simply repeat the installation steps</p>
<h3><a class="header" href="#for-windows-users" id="for-windows-users">For Windows users</a></h3>
<h4><a class="header" href="#install-directly-2" id="install-directly-2">Install directly</a></h4>
<p>Copy and paste the following PowerShell command in a <a href="https://docs.microsoft.com/en-us/powershell/scripting/overview?view=powershell-7">PowerShell prompt</a>:</p>
<pre><code class="language-powershell">&amp; ([ScriptBlock]::Create((New-Object Net.WebClient).DownloadString('https://raw.githubusercontent.com/SouthbankSoftware/proofable/master/cmd/proofable-cli/install.ps1')))
</code></pre>
<p>Then hit return to run, which will install the latest <code>proofable-cli.exe</code> binary into your current directory. Then you can use the CLI as:</p>
<pre><code class="language-powershell">.\proofable-cli.exe -h
</code></pre>
<p>If you want to install the latest dev (cutting edge) binary, using:</p>
<pre><code class="language-bash">&amp; ([ScriptBlock]::Create((New-Object Net.WebClient).DownloadString('https://raw.githubusercontent.com/SouthbankSoftware/proofable/master/cmd/proofable-cli/install.ps1'))) &quot;dev&quot;
</code></pre>
<p>To upgrade, simply repeat the installation steps</p>
<h4><a class="header" href="#install-directly-in-windows-subsystem-for-linux-wsl" id="install-directly-in-windows-subsystem-for-linux-wsl">Install directly in Windows Subsystem for Linux (WSL)</a></h4>
<p>Follow the <a href="cli/installation.html#for-linux-users">same steps</a> for Linux users</p>
<h3><a class="header" href="#build-your-own-binary" id="build-your-own-binary">Build your own binary</a></h3>
<ol>
<li>make sure the latest golang is installed</li>
<li>clone this repo</li>
<li><code>cd cmd/proofable-cli &amp;&amp; make</code></li>
</ol>
<h3><a class="header" href="#dev-cutting-edge-binaries" id="dev-cutting-edge-binaries">Dev (cutting-edge) binaries</a></h3>
<ul>
<li><a href="https://storage.googleapis.com/provendb-dev/proofable-cli/proofable-cli_darwin_amd64.tar.gz">mac</a></li>
<li><a href="https://storage.googleapis.com/provendb-dev/proofable-cli/proofable-cli_linux_amd64.tar.gz">linux</a></li>
<li><a href="https://storage.googleapis.com/provendb-dev/proofable-cli/proofable-cli_windows_amd64.zip">windows</a></li>
</ul>
<h3><a class="header" href="#prd-released-binaries" id="prd-released-binaries">Prd (released) binaries</a></h3>
<ul>
<li><a href="https://storage.googleapis.com/provendb-prd/proofable-cli/proofable-cli_darwin_amd64.tar.gz">mac</a></li>
<li><a href="https://storage.googleapis.com/provendb-prd/proofable-cli/proofable-cli_linux_amd64.tar.gz">linux</a></li>
<li><a href="https://storage.googleapis.com/provendb-prd/proofable-cli/proofable-cli_windows_amd64.zip">windows</a></li>
</ul>
<h1><a class="header" href="#usage" id="usage">Usage</a></h1>
<pre><code class="language-bash"># for help
./proofable-cli -h

# authenticate with ProvenDB. You don't have to explicitly run this. When you execute a command that requires authentication, it will be automatically run
./proofable-cli auth

# remove existing authentication
./proofable-cli auth -d

# create a proof for a path
./proofable-cli create proof path/to/the/data

# create a proof for a path in a custom location
./proofable-cli create proof path/to/the/data -p path/to/output/the/proof.pxproof

# create a proof for a path including metadata
./proofable-cli create proof path/to/the/data --include-metadata

# verify a proof for a path
./proofable-cli verify proof path/to/the/data

# verify a proof for a path and output the proof's Graphviz Dot Graph
./proofable-cli verify proof path/to/the/data -d path/to/output/the/dot/graph.dot

# verify a proof for a path from a custom location
./proofable-cli verify proof path/to/the/data -p path/to/the/proof.pxproof

# create a subproof out of a proof
./proofable-cli create subproof key1_of_the_proof key2_of_the_proof -p path/to/the/proof.pxproof -s path/to/output/the/subproof.pxsubproof

# verify a subproof for a path
./proofable-cli verify subproof path/to/the/data -s path/to/the/subproof.pxsubproof

# verify a subproof for a path and output the subproof's Graphviz Dot Graph
./proofable-cli verify subproof path/to/the/data -s path/to/the/subproof.pxsubproof -d path/to/output/the/dot/graph.dot
</code></pre>
<h1><a class="header" href="#go-sdk" id="go-sdk">Go SDK</a></h1>
<p><a href="https://pkg.go.dev/github.com/SouthbankSoftware/proofable/pkg/api?tab=doc"><img src="https://img.shields.io/badge/go.dev-reference-007d9c?logo=go&amp;logoColor=white&amp;style=flat-square" alt="go.dev reference" /></a>
<a href="https://goreportcard.com/report/github.com/SouthbankSoftware/proofable"><img src="https://goreportcard.com/badge/github.com/SouthbankSoftware/proofable?style=flat-square" alt="Go Report Card" /></a></p>
<p>Proofable Go SDK is the software development kit to help users build solutions around <code>proofable-api</code> service using Golang. It includes helpers to perform authentication, consume the Proofable stream-based gRPC APIs, handle file input and output, hash and diff data and build command line interface</p>
<ul>
<li><a href="https://github.com/SouthbankSoftware/proofable">GitHub</a></li>
</ul>
<h1><a class="header" href="#getting-started" id="getting-started">Getting started</a></h1>
<p>To add the Proofable package to your Golang project, just run:</p>
<pre><code class="language-go">go get github.com/SouthbankSoftware/proofable
</code></pre>
<p>Now, let's go through a hello world example to:</p>
<ul>
<li>
<p>create a Proofable API client</p>
</li>
<li>
<p>prove a bunch of key-values to Ethereum Testnet within a minute</p>
</li>
<li>
<p>create a proof for them</p>
</li>
<li>
<p>verify the proof</p>
</li>
<li>
<p>extract a subproof for just one key-value out of the proof</p>
</li>
<li>
<p>verify the subproof independently</p>
</li>
</ul>
<p>The packages in <a href="https://pkg.go.dev/github.com/SouthbankSoftware/proofable/pkg"><code>pkg</code></a> altogether resembles a Go SDK for Proofable, which provides great convenience when consuming <code>proofable-api</code></p>
<p>You can find the complete example source code <a href="https://github.com/SouthbankSoftware/proofable/blob/master/examples/example.go">here</a>, which can be run as:</p>
<pre><code class="language-go">go run examples/example.go
</code></pre>
<h2><a class="header" href="#step-1-authenticate-with-provendb" id="step-1-authenticate-with-provendb">Step 1: authenticate with ProvenDB</a></h2>
<p>This step will authenticate with ProvenDB so you can access <code>proofable-api</code>. When you are successfully authenticated, an access token will be saved to a global location on your machine. On Mac, it is located at <code>~/Library/Application\ Support/ProvenDB/auth.json</code>. The next time, when you invoke <code>AuthenticateForGRPC</code>, it will automatically use the saved token without prompting you to go through the authentication steps again. You can find more details from <a href="https://github.com/SouthbankSoftware/proofable/blob/master/pkg/auth/auth.go">here</a>. Please note that this authenticaton method is temporary, which will be replaced by an API key soon</p>
<pre><code class="language-go">creds, err := authcli.AuthenticateForGRPC(ctx,
    &quot;https://apigateway.provendb.com&quot;,
    true,
    &quot;&quot;,
)
</code></pre>
<h2><a class="header" href="#step-2-create-a-proofable-api-client" id="step-2-create-a-proofable-api-client">Step 2: create a Proofable API client</a></h2>
<p>This step creates a Proofable API gRPC client (<code>cli</code>) to be used in a closure. When the closure exits, the client will be automatically destroyed. You could also create a client without a closure using <a href="https://pkg.go.dev/github.com/SouthbankSoftware/proofable/pkg/api?tab=doc#NewAPIClient"><code>NewAPIClient</code></a>, but in that case, you have to manually destroy the client after use</p>
<pre><code class="language-go">api.WithAPIClient(
    &quot;api.provendb.com:443&quot;,
    creds,
    func(cli apiPB.APIServiceClient) error {
        // make use of the `cli` in this closure
    })
</code></pre>
<h2><a class="header" href="#step-3-create-an-empty-trie" id="step-3-create-an-empty-trie">Step 3: create an empty trie</a></h2>
<p>This step creates an empty <a href="go_sdk/./../concepts/trie.html">trie</a>, which is a dictionary that can hold key-values, to be used in a closure. When the closure exits, the trie will be automatically destroyed. You could also create an empty trie without a closure using <a href="https://pkg.go.dev/github.com/SouthbankSoftware/proofable/pkg/api?tab=doc#CreateTrie"><code>CreateTrie</code></a>, but in that case, you have to manually destroy the trie using <a href="https://pkg.go.dev/github.com/SouthbankSoftware/proofable/pkg/api?tab=doc#DeleteTrie"><code>DeleteTrie</code></a> or wait for <code>proofable-api</code> to garbage collect it</p>
<pre><code class="language-go">api.WithTrie(ctx, cli, func(id, root string) error {
    // make use of the trie, identified by the `id`, in this closure. The root will always be 0000000000000000000000000000000000000000000000000000000000000000 for an empty trie
})
</code></pre>
<h2><a class="header" href="#step-4-set-the-key-values-we-want-to-prove" id="step-4-set-the-key-values-we-want-to-prove">Step 4: set the key-values we want to prove</a></h2>
<p>This step sets a bunch of key-values that we want to prove in the trie we have just created. In the example, they are my home sensor readings. Both key and value can be arbitrary binaries. They key order doesn't matter. When getting key-values from the trie, e.g. <a href="https://pkg.go.dev/github.com/SouthbankSoftware/proofable/pkg/api?tab=doc#GetTrieKeyValues"><code>GetTrieKeyValues</code></a>, they will always be sorted according to the key's alphabetical order. When setting key-values, you can also make multiple <a href="https://pkg.go.dev/github.com/SouthbankSoftware/proofable/pkg/api?tab=doc#SetTrieKeyValues"><code>SetTrieKeyValues</code></a> calls as a way to build up a large trie incrementally</p>
<pre><code class="language-go">root, err := api.SetTrieKeyValues(ctx, cli, id, root,
    []*apiPB.KeyValue{
        {Key: []byte(&quot;balcony/wind/speed&quot;), Value: []byte(&quot;11km/h&quot;)},
        {Key: []byte(&quot;balcony/wind/direction&quot;), Value: []byte(&quot;N&quot;)},
        {Key: []byte(&quot;living_room/temp&quot;), Value: []byte(&quot;24.8℃&quot;)},
        {Key: []byte(&quot;living_room/Co2&quot;), Value: []byte(&quot;564ppm&quot;)},
    })
</code></pre>
<h2><a class="header" href="#step-5-create-a-proof-for-the-key-values" id="step-5-create-a-proof-for-the-key-values">Step 5: create a proof for the key-values</a></h2>
<p>This step creates a proof, a.k.a. trie proof, to prove the trie at the given root to Ethereum (<a href="go_sdk/../grpc/anchor_service.html#anchortype"><code>ETH</code></a>). Please refer to <a href="go_sdk/../concepts/anchor_types.html">this</a> for all available anchor types. The trie at the given root contains all the key-values we want to prove. When the trie is proven, so are the key-values contained in</p>
<pre><code class="language-go">triePf, err := api.CreateTrieProof(ctx, cli, id, root, anchorPB.Anchor_ETH)
</code></pre>
<h2><a class="header" href="#step-6-wait-for-the-proof-to-be-anchored-to-ethereum" id="step-6-wait-for-the-proof-to-be-anchored-to-ethereum">Step 6: wait for the proof to be anchored to Ethereum</a></h2>
<p>This step waits the proof we have just created until it is anchored to Ethereum, during which we output the anchoring progress</p>
<pre><code class="language-go">tpCH, errCH := api.SubscribeTrieProof(ctx, cli, id, triePf.GetId())

for tp := range tpCH {
    log.Printf(&quot;Anchoring proof: %s\n&quot;, tp.GetStatus())
    triePf = tp

    if tp.GetStatus() == anchorPB.Batch_ERROR {
        return errors.New(tp.GetError())
    }
}

// always check error from the error channel
err = &lt;-errCH
</code></pre>
<h2><a class="header" href="#step-7-verify-the-proof" id="step-7-verify-the-proof">Step 7: verify the proof</a></h2>
<p>This step verifies the proof we have just created. The verification is supposed to be run at any time after the proof has been created and when we want to make sure our proof is valid as well as retrieving information out from the proof</p>
<pre><code class="language-go">kvCH, rpCH, errCH := api.VerifyTrieProof(ctx, cli, id, triePf.GetId(),
    true, &quot;proof.dot&quot;)

// strip the anchor trie part from each key
kvCH = api.InterceptKeyValueStream(ctx, kvCH,
    api.StripCompoundKeyAnchorTriePart)

log.Println(&quot;key-values contained in the proof:&quot;)
for kv := range kvCH {
    log.Printf(&quot;\t%s -&gt; %s\n&quot;,
        strutil.String(kv.Key), strutil.String(kv.Value))
}

// always check error from the error channel
err = &lt;-errCH
if err != nil {
    return err
}

rp := &lt;-rpCH
if !rp.GetVerified() {
    return fmt.Errorf(&quot;falsified proof: %s&quot;, rp.GetError())
}

log.Printf(&quot;the proof with a root hash of %s is anchored to %s in block %v with transaction %s at %s, which can be viewed at %s\n&quot;,
    triePf.GetProofRoot(),
    triePf.GetAnchorType(),
    triePf.GetBlockNumber(),
    triePf.GetTxnId(),
    time.Unix(int64(triePf.GetBlockTime()), 0).Format(time.UnixDate),
    triePf.GetTxnUri(),
)
</code></pre>
<p>This step will output the key-values contained in the proof:</p>
<pre><code class="language-zsh">balcony/wind/direction -&gt; N
balcony/wind/speed -&gt; 11km/h
living_room/Co2 -&gt; 564ppm
living_room/temp -&gt; 24.8℃
</code></pre>
<p>and a summary:</p>
<pre><code class="language-zsh">the proof with a root hash of 4711b3b18e379dbdfabd6440428d20cae5784a518605acec48e126e33383f24e is anchored to ETH in block 6231667 with transaction 8e26def59e1a7289e6c322bc49ee4f23f015c17cebafa53c19b6e34561270232 at Tue Mar 31 15:33:10 AEDT 2020, which can be viewed at https://rinkeby.etherscan.io/tx/0x8e26def59e1a7289e6c322bc49ee4f23f015c17cebafa53c19b6e34561270232
</code></pre>
<p>and a Graphviz Dot Graph (<code>proof.dot</code>):</p>
<p><img src="go_sdk/../images/example_proof.svg" alt="Proof Dot Graph" /></p>
<h2><a class="header" href="#step-8-extract-a-subproof-for-just-one-key-value-out-of-the-proof" id="step-8-extract-a-subproof-for-just-one-key-value-out-of-the-proof">Step 8: extract a subproof for just one key-value out of the proof</a></h2>
<p>This step extracts a subproof, a.k.a. key-values proof, out of the proof we have just created. The subproof proves the key <code>living_room/Co2</code> only and nothing else. A subproof file named <code>living_room_Co2.subproofable</code> will be created in current working directory. You could also create a subproof for multiple key-values</p>
<pre><code class="language-go">api.CreateKeyValuesProof(ctx, cli, id, triePf.GetId(),
    &amp;apiPB.KeyValuesFilter{
        Keys: []*apiPB.Key{
            {Key: []byte(&quot;living_room/Co2&quot;)},
        },
    },
    &quot;living_room_Co2.subproofable&quot;)
</code></pre>
<h2><a class="header" href="#step-9-verify-the-subproof-independently" id="step-9-verify-the-subproof-independently">Step 9: verify the subproof independently</a></h2>
<p>This step independently verifies the subproof we have just created. The only thing needed in order to verify the subproof is the subproof file itself. The verification is supposed to be run at any time after the subproof has been created and when we want to make sure our subproof is valid as well as retrieving information out from the subproof</p>
<pre><code class="language-go">kvCH, rpCH, errCH := api.VerifyKeyValuesProof(ctx, cli,
    &quot;living_room_Co2.subproofable&quot;,
    true, &quot;living_room_Co2_subproof.dot&quot;)

// strip the anchor trie part from each key
kvCH = api.InterceptKeyValueStream(ctx, kvCH,
    api.StripCompoundKeyAnchorTriePart)

log.Println(&quot;key-values contained in the subproof:&quot;)
for kv := range kvCH {
    log.Printf(&quot;\t%s -&gt; %s\n&quot;,
        strutil.String(kv.Key), strutil.String(kv.Value))
}

// always check error from the error channel
err = &lt;-errCH
if err != nil {
    return err
}

rp := &lt;-rpCH
if !rp.GetVerified() {
    return fmt.Errorf(&quot;falsified subproof: %s&quot;, rp.GetError())
}

et, err := api.GetEthTrieFromKeyValuesProof(&quot;living_room_Co2.subproofable&quot;)
if err != nil {
    return err
}
merkleRoot := hex.EncodeToString(et.Root())

log.Printf(&quot;the subproof with a root hash of %s is anchored to %s in block %v with transaction %s at %s, which can be viewed at %s\n&quot;,
    merkleRoot,
    et.AnchorType,
    et.BlockNumber,
    et.TxnID,
    time.Unix(int64(et.BlockTime), 0).Format(time.UnixDate),
    et.TxnURI,
)
</code></pre>
<p>This step will output the key-values contained in the subproof:</p>
<pre><code class="language-zsh">living_room/Co2 -&gt; 564ppm
</code></pre>
<p>and a summary:</p>
<pre><code class="language-zsh">the subproof with a root hash of 4711b3b18e379dbdfabd6440428d20cae5784a518605acec48e126e33383f24e is anchored to ETH in block 6231667 with transaction 8e26def59e1a7289e6c322bc49ee4f23f015c17cebafa53c19b6e34561270232 at Tue Mar 31 15:33:10 AEDT 2020, which can be viewed at https://rinkeby.etherscan.io/tx/0x8e26def59e1a7289e6c322bc49ee4f23f015c17cebafa53c19b6e34561270232
</code></pre>
<p>and a Graphviz Dot Graph (<code>living_room_Co2_subproof.dot</code>):</p>
<p><img src="go_sdk/../images/example_subproof.svg" alt="Subproof Dot Graph" /></p>
<h1><a class="header" href="#examples" id="examples">Examples</a></h1>
<p>Here are some more examples to help you with the Proofable Go SDK</p>
<ul>
<li>
<p><a href="https://github.com/SouthbankSoftware/proofable/tree/master/examples">Go SDK Examples</a>: source code of complete and runnable examples</p>
</li>
<li>
<p><a href="https://github.com/SouthbankSoftware/proofable-image">ProofableImage</a>: builds trust into your image by creating a blockchain certificate for it. The image certificate can not only prove the image as a whole but also prove the pixel boxes and the metadata inside it. For more details, please read through this <a href="https://medium.com/@guiguan/build-trust-into-image-with-blockchain-4894c39bde7f">Medium post</a>.</p>
</li>
</ul>
<h1><a class="header" href="#reference" id="reference">Reference</a></h1>
<p><a href="https://pkg.go.dev/github.com/SouthbankSoftware/proofable/pkg/api?tab=doc">Proofable Go SDK Reference</a></p>
<script type="text/javascript">
if (!window.location.href.endsWith("/print.html")) {
    window.location.replace("https://pkg.go.dev/github.com/SouthbankSoftware/proofable/pkg/api?tab=doc");
}
</script>
<h1><a class="header" href="#node-sdk" id="node-sdk">Node SDK</a></h1>
<p><a href="https://www.npmjs.com/package/proofable"><img src="https://img.shields.io/npm/v/proofable?style=flat-square" alt="NPM Package" /></a></p>
<p>Proofable Node SDK is the software development kit to help users build solutions around <code>proofable-api</code> service using Node. It provides a set of promise-based APIs as well as more advanced callback and stream based APIs for dealing with the service. The promise-based APIs are convenient to be consumed in most use cases, while the callback and stream based APIs support more advanced features such as canceling and per-call gRPC options.</p>
<ul>
<li><a href="https://github.com/SouthbankSoftware/proofable/tree/master/node_sdk">GitHub</a></li>
</ul>
<h1><a class="header" href="#getting-started-1" id="getting-started-1">Getting started</a></h1>
<ol>
<li>
<p><code>npm i proofable</code>. We recommend the Node LTS versions: v12.16.3+</p>
</li>
<li>
<p>create an authentication token using: <code>./proofable-cli auth</code>. You can find details from <a href="node_sdk/./typescript_example.html#step-1-authenticate-with-provendb">here</a></p>
</li>
<li>
<p>import <a href="https://www.npmjs.com/package/proofable">Proofable package</a></p>
<pre><code class="language-typescript">import { newAPIClient, Anchor, Key /* and more */ } from &quot;proofable&quot;;
</code></pre>
</li>
<li>
<p>create a Proofable API client</p>
<pre><code class="language-typescript">const client = newAPIClient(&quot;api.proofable.io:443&quot;);
</code></pre>
</li>
<li>
<p>create a <a href="node_sdk/../concepts/trie.html">trie</a> from data</p>
<pre><code class="language-typescript">const trie = await client.createTrieFromKeyValues(
  dataToKeyValues({
    &quot;balcony/wind/speed&quot;: &quot;11km/h&quot;,
    &quot;balcony/wind/direction&quot;: &quot;N&quot;,
    &quot;living_room/temp&quot;: &quot;24.8℃&quot;,
    &quot;living_room/Co2&quot;: &quot;564ppm&quot;,
  })
);
</code></pre>
</li>
<li>
<p>anchor the trie to a blockchain that is <a href="node_sdk/../concepts/anchor_types.html">supported by Proofable</a>. Here we use <a href="https://www.hedera.com/">Hedera</a> testnet, as it is cool and fast</p>
<pre><code class="language-typescript">const trieProof = await client.anchorTrie(trie, Anchor.Type.HEDERA);

console.dir(trieProof.toObject());
</code></pre>
<p><img src="node_sdk/../images/example_basic_anchor_trie.png" alt="Anchor Trie Example" /></p>
</li>
<li>
<p>export the trie for later use. This trie file is a self-contained certificate that can be used later on to do all sorts of manipulations, including verifiying the data</p>
<pre><code class="language-typescript">await client.exportTrie(trieId, &quot;./example.proofable&quot;);
</code></pre>
</li>
<li>
<p>import and verify the trie we just exported. Note that in order to use this convenient and efficient verification API, we have to ensure the original key-values are sorted. This sorting can be done efficiently in real world case, e.g. when querying a database</p>
<pre><code class="language-typescript">const result = await client.importAndVerifyTrieWithSortedKeyValues(
  &quot;./example.proofable&quot;,
  sortKeyValues(
    dataToKeyValues({
      &quot;balcony/wind/speed&quot;: &quot;11km/h&quot;,
      &quot;balcony/wind/direction&quot;: &quot;N&quot;,
      &quot;living_room/temp&quot;: &quot;24.8℃&quot;,
      &quot;living_room/Co2&quot;: &quot;564ppm&quot;,
    })
  ),
  undefined,
  &quot;./example.proofable.dot&quot;
);

console.dir(result);
</code></pre>
<p><img src="node_sdk/../images/example_basic_import_and_verify_trie.png" alt="Import and Verify Trie Example" /></p>
<p><img src="node_sdk/../images/example_basic_proof_dot.svg" alt="Proof Dot Graph Example" /></p>
</li>
<li>
<p>create a key-values proof for the data subset directly from the already proved trie. This proof file is a self-contained certificate that proves the data subset</p>
<pre><code class="language-typescript">await client.createKeyValuesProof(
  result.trie!.id,
  result.proof.id!,
  KeyValuesFilter.from([
    Key.from(&quot;balcony/wind/speed&quot;),
    Key.from(&quot;living_room/Co2&quot;),
  ]),
  /*
  or you can directly use `KeyValue`s:
  KeyValuesFilter.from(
    dataToKeyValues({
      &quot;balcony/wind/speed&quot;: &quot;11km/h&quot;,
      &quot;living_room/Co2&quot;: &quot;564ppm&quot;,
    })
  )
  */
  &quot;./example.subproofable&quot;
);
</code></pre>
</li>
<li>
<p>verify the key-values proof we just created. Again, we need to sort the original data subset</p>
<pre><code class="language-typescript">const result = await client.verifyKeyValuesProofWithSortedKeyValues(
  &quot;./example.subproofable&quot;,
  sortKeyValues(
    dataToKeyValues({
      &quot;balcony/wind/speed&quot;: &quot;11km/h&quot;,
      &quot;living_room/Co2&quot;: &quot;564ppm&quot;,
    })
  ),
  &quot;./example.subproofable.dot&quot;
);

console.dir(result);
</code></pre>
<p>As you can see, the <code>trie</code> and <code>proof.id</code> are <code>undefined</code> comparing to previous output, which indicates that the key-values proof is independent of any tries</p>
<p><img src="node_sdk/../images/example_basic_verify_key_values_proof.png" alt="Verify Key-values Proof Example" /></p>
<p><img src="node_sdk/../images/example_basic_subproof_dot.svg" alt="Subproof Dot Graph Example" /></p>
</li>
</ol>
<p>You can find the complete source code of this guide from <a href="https://github.com/SouthbankSoftware/proofable/blob/master/node_sdk/src/examples/typescript_basic.ts">here</a>, which can be run as:</p>
<pre><code class="language-zsh">npm run example-basic
</code></pre>
<h1><a class="header" href="#examples-1" id="examples-1">Examples</a></h1>
<p>Here are some more examples to help you with the Proofable Node SDK</p>
<ul>
<li><a href="https://github.com/SouthbankSoftware/proofable/tree/master/node_sdk/src/examples">Node SDK Examples</a>: source code of complete and runnable examples
<ul>
<li><a href="node_sdk/./typescript_example.html">Typescript Example</a>: a detailed example written in TypeScript</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#typescript-example" id="typescript-example">TypeScript Example</a></h1>
<p>This is a detailed example written in TypeScript that demonstrates how to:</p>
<ul>
<li>
<p>create a Proofable API client</p>
</li>
<li>
<p>prove a bunch of key-values to Ethereum Testnet within a minute</p>
</li>
<li>
<p>create a proof for them</p>
</li>
<li>
<p>verify the proof</p>
</li>
<li>
<p>extract a subproof for just one key-value out of the proof</p>
</li>
<li>
<p>verify the subproof independently</p>
</li>
</ul>
<p>You can find the complete example source code <a href="https://github.com/SouthbankSoftware/proofable/blob/master/node_sdk/src/examples/typescript.ts">here</a>, which can be run as:</p>
<pre><code class="language-zsh">npm run example
</code></pre>
<p>You can also find the Javascript version <a href="https://github.com/SouthbankSoftware/proofable/blob/master/node_sdk/src/examples/javascript.js">here</a>, which can be run as:</p>
<pre><code class="language-zsh">npm run example-js
</code></pre>
<h2><a class="header" href="#step-1-authenticate-with-provendb-1" id="step-1-authenticate-with-provendb-1">Step 1: authenticate with ProvenDB</a></h2>
<p>This step will authenticate with ProvenDB so you can access <code>proofable-api</code>. When you are successfully authenticated, an access token will be saved to a global location on your machine. On Mac, it is located at <code>~/Library/Application\ Support/ProvenDB/auth.json</code>. You can find more etails from <a href="https://docs.proofable.io/node_sdk/reference/index.html#getauthmetadata">here</a>. Please note that this authenticaton method is temporary, which will be replaced by an API key soon</p>
<ol>
<li>download <a href="node_sdk/../cli/installation.html"><code>proofable-cli</code></a></li>
<li>sign in/up to ProvenDB: <code>./proofable-cli auth</code></li>
<li>you are all set. You only need to do this once</li>
</ol>
<h2><a class="header" href="#step-2-create-a-proofable-api-client-1" id="step-2-create-a-proofable-api-client-1">Step 2: create a Proofable API client</a></h2>
<p>This step creates a Proofable API gRPC <a href="https://docs.proofable.io/node_sdk/reference/classes/_index_.apiclient.html"><code>client</code></a>. After using the client, you can destroy the client using <a href="https://docs.proofable.io/node_sdk/reference/classes/_index_.apiclient.html#close"><code>client.close()</code></a></p>
<pre><code class="language-typescript">const client = newAPIClient(&quot;api.proofable.io:443&quot;);
</code></pre>
<h2><a class="header" href="#step-3-create-an-empty-trie-1" id="step-3-create-an-empty-trie-1">Step 3: create an empty trie</a></h2>
<p>This step creates an empty <a href="node_sdk/../concepts/trie.html">trie</a> with root <code>0000000000000000000000000000000000000000000000000000000000000000</code>, which is a dictionary that can hold key-values. After using the trie, you can destroy the trie using <a href="https://docs.proofable.io/node_sdk/reference/classes/_index_.apiclient.html#deletetrie"><code>deleteTrie</code></a> or wait for <code>proofable-api</code> to garbage collect it</p>
<pre><code class="language-typescript">let trie = await client.createTrie();
</code></pre>
<h2><a class="header" href="#step-4-set-the-key-values-we-want-to-prove-1" id="step-4-set-the-key-values-we-want-to-prove-1">Step 4: set the key-values we want to prove</a></h2>
<p>This step sets a bunch of key-values that we want to prove in the trie we have just created. In the example, they are my home sensor readings. Both key and value can be arbitrary binaries. They key order doesn't matter. When getting key-values from the trie, e.g. <a href="https://docs.proofable.io/node_sdk/reference/classes/_index_.apiclient.html#gettriekeyvalues"><code>getTrieKeyValues</code></a>, they will always be sorted according to the key's alphabetical order. When setting key-values, you can also make multiple <a href="https://docs.proofable.io/node_sdk/reference/classes/_index_.apiclient.html#settriekeyvalues"><code>setTrieKeyValues</code></a> calls as a way to build up a large trie incrementally</p>
<pre><code class="language-typescript">trie = await client.setTrieKeyValues(trie.getId(), trie.getRoot(), [
  KeyValue.from(&quot;balcony/wind/speed&quot;, &quot;11km/h&quot;),
  KeyValue.from(&quot;balcony/wind/direction&quot;, &quot;N&quot;),
  KeyValue.from(&quot;living_room/temp&quot;, &quot;24.8℃&quot;),
  KeyValue.from(&quot;living_room/Co2&quot;, &quot;564ppm&quot;),
]);
</code></pre>
<h2><a class="header" href="#step-5-create-a-proof-for-the-key-values-1" id="step-5-create-a-proof-for-the-key-values-1">Step 5: create a proof for the key-values</a></h2>
<p>This step creates a proof, a.k.a. trie proof, to prove the trie at the given root to Ethereum (<a href="node_sdk/../grpc/anchor_service.html#anchortype"><code>ETH</code></a>). Please refer to <a href="node_sdk/../concepts/anchor_types.html">this</a> for all available anchor types. The trie at the given root contains all the key-values we want to prove. When the trie is proven, so are the key-values contained in</p>
<pre><code class="language-typescript">let trieProof = await client.createTrieProof(
  trie.getId(),
  trie.getRoot(),
  Anchor.Type.ETH
);
</code></pre>
<h2><a class="header" href="#step-6-wait-for-the-proof-to-be-anchored-to-ethereum-1" id="step-6-wait-for-the-proof-to-be-anchored-to-ethereum-1">Step 6: wait for the proof to be anchored to Ethereum</a></h2>
<p>This step waits for the proof we have just created until it is anchored to Ethereum, during which we output the anchoring progress</p>
<pre><code class="language-typescript">for await (const tp of client.subscribeTrieProof(
  trie.getId(),
  trieProof.getId()
)) {
  console.log(&quot;Anchoring proof: %s&quot;, Batch.StatusName[tp.getStatus()]);
  trieProof = tp;

  if (tp.getStatus() === Batch.Status.ERROR) {
    throw new Error(tp.getError());
  }
}
</code></pre>
<h2><a class="header" href="#step-7-verify-the-proof-1" id="step-7-verify-the-proof-1">Step 7: verify the proof</a></h2>
<p>This step verifies the proof we have just created. The verification is supposed to be run at any time after the proof has been created and when we want to make sure our proof is valid as well as retrieving information out from the proof</p>
<pre><code class="language-typescript">for await (const val of client.verifyTrieProof(
  trie.getId(),
  trieProof.getId(),
  true,
  &quot;proof.dot&quot;
)) {
  if (val instanceof VerifyProofReply) {
    if (!val.getVerified()) {
      console.error(&quot;falsified proof: %s&quot;, val.getError());
      return;
    }
  } else {
    // strip the anchor trie part from each key
    const kv = stripCompoundKeyAnchorTriePart(val).to();

    console.log(&quot;\t%s -&gt; %s&quot;, kv.key, kv.val);
  }
}

console.log(
  &quot;\nthe proof with a root hash of %s is anchored to %s in block %s with transaction %s on %s, which can be viewed at %s&quot;,
  trieProof.getRoot(),
  Anchor.TypeName[trieProof.getAnchorType()],
  trieProof.getBlockNumber(),
  trieProof.getTxnId(),
  new Date(trieProof.getBlockTime() * 1000).toUTCString(),
  trieProof.getTxnUri()
);
</code></pre>
<p>This step will output the key-values contained in the proof:</p>
<pre><code class="language-zsh">balcony/wind/direction -&gt; N
balcony/wind/speed -&gt; 11km/h
living_room/Co2 -&gt; 564ppm
living_room/temp -&gt; 24.8℃
</code></pre>
<p>and a summary:</p>
<pre><code class="language-zsh">the proof with a root hash of 4711b3b18e379dbdfabd6440428d20cae5784a518605acec48e126e33383f24e is anchored to ETH in block 6231667 with transaction 8e26def59e1a7289e6c322bc49ee4f23f015c17cebafa53c19b6e34561270232 at Tue, 31 Mar 2020 15:33:10 AEDT, which can be viewed at https://rinkeby.etherscan.io/tx/0x8e26def59e1a7289e6c322bc49ee4f23f015c17cebafa53c19b6e34561270232
</code></pre>
<p>and a Graphviz Dot Graph (<code>proof.dot</code>):</p>
<p><img src="https://github.com/SouthbankSoftware/proofable/raw/master/docs/images/example_proof.svg" alt="Proof Dot Graph" /></p>
<h2><a class="header" href="#step-8-extract-a-subproof-for-just-one-key-value-out-of-the-proof-1" id="step-8-extract-a-subproof-for-just-one-key-value-out-of-the-proof-1">Step 8: extract a subproof for just one key-value out of the proof</a></h2>
<p>This step extracts a subproof, a.k.a. key-values proof, out of the proof we have just created. The subproof proves the key <code>living_room/Co2</code> only and nothing else. A subproof file named <code>living_room_Co2.subproofable</code> will be created in current working directory. You could also create a subproof for multiple key-values</p>
<pre><code class="language-typescript">await client.createKeyValuesProof(
  trie.getId(),
  trieProof.getId(),
  KeyValuesFilter.from([Key.from(&quot;living_room/Co2&quot;)]),
  &quot;living_room_Co2.subproofable&quot;
);
</code></pre>
<h2><a class="header" href="#step-9-verify-the-subproof-independently-1" id="step-9-verify-the-subproof-independently-1">Step 9: verify the subproof independently</a></h2>
<p>This step independently verifies the subproof we have just created. The only thing needed in order to verify the subproof is the subproof file itself. The verification is supposed to be run at any time after the subproof has been created and when we want to make sure our subproof is valid as well as retrieving information out from the subproof</p>
<pre><code class="language-typescript">for await (const val of client.verifyKeyValuesProof(
  &quot;living_room_Co2.subproofable&quot;,
  true,
  &quot;living_room_Co2_subproof.dot&quot;
)) {
  if (val instanceof VerifyProofReply) {
    if (!val.getVerified()) {
      console.error(&quot;falsified subproof: %s&quot;, val.getError());
      return;
    }
  } else {
    // strip the anchor trie part from each key
    const kv = stripCompoundKeyAnchorTriePart(val).to();

    console.log(&quot;\t%s -&gt; %s&quot;, kv.key, kv.val);
  }
}

const ethTrie = await getEthTrieFromKeyValuesProof(
  &quot;living_room_Co2.subproofable&quot;
);

console.log(
  &quot;\nthe subproof with a root hash of %s is anchored to %s in block %s with transaction %s on %s, which can be viewed at %s&quot;,
  ethTrie.root,
  ethTrie.anchorType,
  ethTrie.blockNumber,
  ethTrie.txnId,
  new Date(ethTrie.blockTime * 1000).toUTCString(),
  ethTrie.txnUri
);
</code></pre>
<p>This step will output the key-values contained in the subproof:</p>
<pre><code class="language-zsh">living_room/Co2 -&gt; 564ppm
</code></pre>
<p>and a summary:</p>
<pre><code class="language-zsh">the subproof with a root hash of 4711b3b18e379dbdfabd6440428d20cae5784a518605acec48e126e33383f24e is anchored to ETH in block 6231667 with transaction 8e26def59e1a7289e6c322bc49ee4f23f015c17cebafa53c19b6e34561270232 at Tue, 31 Mar 2020 15:33:10 AEDT, which can be viewed at https://rinkeby.etherscan.io/tx/0x8e26def59e1a7289e6c322bc49ee4f23f015c17cebafa53c19b6e34561270232
</code></pre>
<p>and a Graphviz Dot Graph (<code>living_room_Co2_subproof.dot</code>):</p>
<p><img src="https://github.com/SouthbankSoftware/proofable/raw/master/docs/images/example_subproof.svg" alt="Subproof Dot Graph" /></p>
<h1><a class="header" href="#reference-1" id="reference-1">Reference</a></h1>
<p><a href="node_sdk/../node_sdk/reference/index.html">Proofable Node SDK Reference</a></p>
<script type="text/javascript">
if (!window.location.href.endsWith("/print.html")) {
    window.location.replace("../node_sdk/reference/index.html");
}
</script>
<h1><a class="header" href="#grpc" id="grpc">gRPC</a></h1>
<p>gRPC is the modern wire protocol that connects client applications with Proofable services. Although you can directly consume the gRPC APIs to use Proofable in any language that supports gRPC, we recommend you to use the available Proofable SDK for your language</p>
<ul>
<li><a href="https://github.com/SouthbankSoftware/proofable/tree/master/pkg/protos">GitHub</a></li>
</ul>
<h1><a class="header" href="#demo-1" id="demo-1">Demo</a></h1>
<p>This demo shows how to consume the raw gRPC APIs via <a href="https://github.com/ktr0731/evans">evans</a> to prove 3 key-values</p>
<script id="asciicast-346588" data-autoplay="true" src="https://asciinema.org/a/346588.js" async></script>
<h1><a class="header" href="#api-service" id="api-service">API Service</a></h1>
<p>API Service is a general purpose proving service that is fast and effective.
It provides a set of APIs to manipulate trie structures and generate
blockchain proofs for any digital assets. A trie is a dictionary of
key-values that can be built incrementally, whose root hash at any given time
can be also dervied efficiently. Once the root hash is proven to a
blockchain, every key-value is also proven, so as the digital asset stored in
that key-value</p>
<p>Protobuf definition: <a href="https://github.com/SouthbankSoftware/proofable/blob/master/pkg/protos/api/api.proto">api/api.proto</a></p>
<h2><a class="header" href="#table-of-contents" id="table-of-contents">Table of Contents</a></h2>
<ul>
<li><a href="grpc/api_service.html#apiservice">APIService</a></li>
<li><a href="grpc/api_service.html#createkeyvaluesproofrequest">CreateKeyValuesProofRequest</a></li>
<li><a href="grpc/api_service.html#createtrieproofrequest">CreateTrieProofRequest</a></li>
<li><a href="grpc/api_service.html#datachunk">DataChunk</a></li>
<li><a href="grpc/api_service.html#deletetrieproofrequest">DeleteTrieProofRequest</a></li>
<li><a href="grpc/api_service.html#key">Key</a></li>
<li><a href="grpc/api_service.html#keyvalue">KeyValue</a></li>
<li><a href="grpc/api_service.html#keyvaluesfilter">KeyValuesFilter</a></li>
<li><a href="grpc/api_service.html#rootfilter">RootFilter</a></li>
<li><a href="grpc/api_service.html#settrierootrequest">SetTrieRootRequest</a></li>
<li><a href="grpc/api_service.html#trie">Trie</a></li>
<li><a href="grpc/api_service.html#triekeyvaluerequest">TrieKeyValueRequest</a></li>
<li><a href="grpc/api_service.html#triekeyvaluesrequest">TrieKeyValuesRequest</a></li>
<li><a href="grpc/api_service.html#trieproof">TrieProof</a></li>
<li><a href="grpc/api_service.html#trieproofrequest">TrieProofRequest</a></li>
<li><a href="grpc/api_service.html#trieproofsrequest">TrieProofsRequest</a></li>
<li><a href="grpc/api_service.html#trierequest">TrieRequest</a></li>
<li><a href="grpc/api_service.html#trieroot">TrieRoot</a></li>
<li><a href="grpc/api_service.html#trierootsrequest">TrieRootsRequest</a></li>
<li><a href="grpc/api_service.html#verifykeyvaluesproofrequest">VerifyKeyValuesProofRequest</a></li>
<li><a href="grpc/api_service.html#verifyproofreply">VerifyProofReply</a></li>
<li><a href="grpc/api_service.html#verifyproofreplychunk">VerifyProofReplyChunk</a></li>
<li><a href="grpc/api_service.html#verifytrieproofrequest">VerifyTrieProofRequest</a></li>
<li><a href="grpc/api_service.html#scalar-value-types">Scalar Value Types</a></li>
</ul>
<h3><a class="header" href="#apiservice" id="apiservice">APIService</a></h3>
<table><thead><tr><th>Method Name</th><th>Request Type</th><th>Response Type</th><th>Description</th></tr></thead><tbody>
<tr><td>GetTries</td><td><a href="grpc/api_service.html#google.protobuf.Empty">.google.protobuf.Empty</a></td><td><a href="grpc/api_service.html#api.Trie">Trie</a> stream</td><td>GetTries gets all tries. Admin privilege is required</td></tr>
<tr><td>GetTrie</td><td><a href="grpc/api_service.html#api.TrieRequest">TrieRequest</a></td><td><a href="grpc/api_service.html#api.Trie">Trie</a></td><td>GetTrie gets a trie</td></tr>
<tr><td>ImportTrie</td><td><a href="grpc/api_service.html#api.DataChunk">DataChunk</a> stream</td><td><a href="grpc/api_service.html#api.Trie">Trie</a></td><td>ImportTrie creates a new trie from existing trie data. If the trie ID is not provided in the metadata, a new one will be generated</td></tr>
<tr><td>ExportTrie</td><td><a href="grpc/api_service.html#api.TrieRequest">TrieRequest</a></td><td><a href="grpc/api_service.html#api.DataChunk">DataChunk</a> stream</td><td>ExportTrie exports a trie's data</td></tr>
<tr><td>CreateTrie</td><td><a href="grpc/api_service.html#google.protobuf.Empty">.google.protobuf.Empty</a></td><td><a href="grpc/api_service.html#api.Trie">Trie</a></td><td>CreateTrie creates an empty trie</td></tr>
<tr><td>DeleteTrie</td><td><a href="grpc/api_service.html#api.TrieRequest">TrieRequest</a></td><td><a href="grpc/api_service.html#api.Trie">Trie</a></td><td>DeleteTrie deletes a trie. This destroys everything of a trie</td></tr>
<tr><td>GetTrieKeyValues</td><td><a href="grpc/api_service.html#api.TrieKeyValuesRequest">TrieKeyValuesRequest</a></td><td><a href="grpc/api_service.html#api.KeyValue">KeyValue</a> stream</td><td>GetTrieKeyValues gets key-values of a trie. The returned KeyValues are ordered by the keys lexicographically</td></tr>
<tr><td>GetTrieKeyValue</td><td><a href="grpc/api_service.html#api.TrieKeyValueRequest">TrieKeyValueRequest</a></td><td><a href="grpc/api_service.html#api.KeyValue">KeyValue</a></td><td>GetTrieKeyValue gets a key-value of a trie</td></tr>
<tr><td>SetTrieKeyValues</td><td><a href="grpc/api_service.html#api.KeyValue">KeyValue</a> stream</td><td><a href="grpc/api_service.html#api.Trie">Trie</a></td><td>SetTrieKeyValues sets key-values of a trie. Set an empty value for a key to remove that key. Modifications to a trie will change its root hash</td></tr>
<tr><td>GetTrieRoots</td><td><a href="grpc/api_service.html#api.TrieRootsRequest">TrieRootsRequest</a></td><td><a href="grpc/api_service.html#api.TrieRoot">TrieRoot</a> stream</td><td>GetTrieRoots gets roots of a trie. This is a series of roots showing the modification history of a trie</td></tr>
<tr><td>SetTrieRoot</td><td><a href="grpc/api_service.html#api.SetTrieRootRequest">SetTrieRootRequest</a></td><td><a href="grpc/api_service.html#api.Trie">Trie</a></td><td>SetTrieRoot sets the root of a trie to the given one. This will add an entry in the root history</td></tr>
<tr><td>GetTrieProofs</td><td><a href="grpc/api_service.html#api.TrieProofsRequest">TrieProofsRequest</a></td><td><a href="grpc/api_service.html#api.TrieProof">TrieProof</a> stream</td><td>GetTrieProofs gets proofs of a trie</td></tr>
<tr><td>GetTrieProof</td><td><a href="grpc/api_service.html#api.TrieProofRequest">TrieProofRequest</a></td><td><a href="grpc/api_service.html#api.TrieProof">TrieProof</a></td><td>GetTrieProof gets a proof of a trie. When not_before is not provided (either nil or zero), the latest proof will be returned</td></tr>
<tr><td>SubscribeTrieProof</td><td><a href="grpc/api_service.html#api.TrieProofRequest">TrieProofRequest</a></td><td><a href="grpc/api_service.html#api.TrieProof">TrieProof</a> stream</td><td>SubscribeTrieProof subscribes to proof changes of a trie. When not_before is not provided (either nil or zero), the latest proof will be returned</td></tr>
<tr><td>CreateTrieProof</td><td><a href="grpc/api_service.html#api.CreateTrieProofRequest">CreateTrieProofRequest</a></td><td><a href="grpc/api_service.html#api.TrieProof">TrieProof</a></td><td>CreateTrieProof creates a proof for a trie root</td></tr>
<tr><td>DeleteTrieProof</td><td><a href="grpc/api_service.html#api.DeleteTrieProofRequest">DeleteTrieProofRequest</a></td><td><a href="grpc/api_service.html#api.TrieProof">TrieProof</a></td><td>DeleteTrieProof deletes a proof for a trie root</td></tr>
<tr><td>VerifyTrieProof</td><td><a href="grpc/api_service.html#api.VerifyTrieProofRequest">VerifyTrieProofRequest</a></td><td><a href="grpc/api_service.html#api.VerifyProofReplyChunk">VerifyProofReplyChunk</a> stream</td><td>VerifyTrieProof verifies a proof for a trie root</td></tr>
<tr><td>CreateKeyValuesProof</td><td><a href="grpc/api_service.html#api.CreateKeyValuesProofRequest">CreateKeyValuesProofRequest</a></td><td><a href="grpc/api_service.html#api.DataChunk">DataChunk</a> stream</td><td>CreateKeyValuesProof creates a proof for the provided key-values out of a trie proof. The new proof is self-contained and can be verified independently</td></tr>
<tr><td>VerifyKeyValuesProof</td><td><a href="grpc/api_service.html#api.DataChunk">DataChunk</a> stream</td><td><a href="grpc/api_service.html#api.VerifyProofReplyChunk">VerifyProofReplyChunk</a> stream</td><td>VerifyKeyValuesProof verifies a key-values proof</td></tr>
</tbody></table>
<!-- end services -->
<h3><a class="header" href="#createkeyvaluesproofrequest" id="createkeyvaluesproofrequest">CreateKeyValuesProofRequest</a></h3>
<p>CreateKeyValuesProofRequest represents a create key-values proof request</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>trie_id</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>TrieId is the trie ID</td></tr>
<tr><td>proof_id</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>ProofId is the trie proof id</td></tr>
<tr><td>request</td><td><a href="grpc/api_service.html#api.CreateTrieProofRequest">CreateTrieProofRequest</a></td><td></td><td>Request is the request to create a new trie proof that is going to prove the key-values</td></tr>
<tr><td>filter</td><td><a href="grpc/api_service.html#api.KeyValuesFilter">KeyValuesFilter</a></td><td></td><td>Filter is the key-values filter (optional). When zero, all key-values will be included in the proof</td></tr>
</tbody></table>
<h3><a class="header" href="#createtrieproofrequest" id="createtrieproofrequest">CreateTrieProofRequest</a></h3>
<p>CreateTrieProofRequest represents a create trie proof request</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>trie_id</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>TrieId is the trie ID</td></tr>
<tr><td>root</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>Root is the root hash (optional). When zero, the current root hash of the trie will be used to create the TrieProof, and the request will be blocked until all ongoing updates are finished</td></tr>
<tr><td>anchor_type</td><td><a href="grpc/api_service.html#anchor.Anchor.Type">anchor.Anchor.Type</a></td><td></td><td>AnchorType is the anchor type the trie proof should be submitted to. Default to ETH</td></tr>
</tbody></table>
<h3><a class="header" href="#datachunk" id="datachunk">DataChunk</a></h3>
<p>DataChunk represents a chunk of data transmitted in a gRPC stream</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>data</td><td><a href="grpc/api_service.html#bytes">bytes</a></td><td></td><td>Data is the data within the DataChunk</td></tr>
<tr><td>trie_request</td><td><a href="grpc/api_service.html#api.TrieRequest">TrieRequest</a></td><td></td><td>TrieRequest is the trie request</td></tr>
<tr><td>verify_key_values_proof_request</td><td><a href="grpc/api_service.html#api.VerifyKeyValuesProofRequest">VerifyKeyValuesProofRequest</a></td><td></td><td>VerifyKeyValuesProofRequest is the request to verify a key-values proof</td></tr>
</tbody></table>
<h3><a class="header" href="#deletetrieproofrequest" id="deletetrieproofrequest">DeleteTrieProofRequest</a></h3>
<p>DeleteTrieProofRequest represents a delete trie proof request</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>trie_id</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>TrieId is the trie ID</td></tr>
<tr><td>proof_id</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>ProofId is the trie proof ID</td></tr>
</tbody></table>
<h3><a class="header" href="#key" id="key">Key</a></h3>
<p>Key represents a key of a key-value pair</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>key</td><td><a href="grpc/api_service.html#bytes">bytes</a></td><td></td><td>Key is the key of the key-value</td></tr>
<tr><td>key_sep</td><td><a href="grpc/api_service.html#uint32">uint32</a></td><td>repeated</td><td>KeySep is the key separators for chained tries</td></tr>
</tbody></table>
<h3><a class="header" href="#keyvalue" id="keyvalue">KeyValue</a></h3>
<p>KeyValue represents a key-value</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>key</td><td><a href="grpc/api_service.html#bytes">bytes</a></td><td></td><td>Key is the key of the key-value</td></tr>
<tr><td>key_sep</td><td><a href="grpc/api_service.html#uint32">uint32</a></td><td>repeated</td><td>KeySep is the key separators for chained tries</td></tr>
<tr><td>value</td><td><a href="grpc/api_service.html#bytes">bytes</a></td><td></td><td>Value is the value of the key-value</td></tr>
<tr><td>trie_key_values_request</td><td><a href="grpc/api_service.html#api.TrieKeyValuesRequest">TrieKeyValuesRequest</a></td><td></td><td>TrieKeyValuesRequest is the request to set or get key-values</td></tr>
</tbody></table>
<h3><a class="header" href="#keyvaluesfilter" id="keyvaluesfilter">KeyValuesFilter</a></h3>
<p>KeyValuesFilter represents a key-value filter</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>keys</td><td><a href="grpc/api_service.html#api.Key">Key</a></td><td>repeated</td><td>Keys are the keys of key-values that should be included in a key-value proof. Only those trie nodes are on the merkle paths of the given keys will be included in the proof</td></tr>
</tbody></table>
<h3><a class="header" href="#rootfilter" id="rootfilter">RootFilter</a></h3>
<p>RootFilter represents a root filter to query a proof</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>root</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>Root is the root hash. When zero, the current root hash of the trie will be used to retrieve the TrieProof, and the request will be blocked until all ongoing updates are finished</td></tr>
<tr><td>not_before</td><td><a href="grpc/api_service.html#google.protobuf.Timestamp">google.protobuf.Timestamp</a></td><td></td><td>NotBefore is the not before timestamp. When nil, this constraint is not used; when zero, the latest TrieProof for the root hash will be returned</td></tr>
</tbody></table>
<h3><a class="header" href="#settrierootrequest" id="settrierootrequest">SetTrieRootRequest</a></h3>
<p>SetTrieRootRequest represents a set trie root request</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>trie_id</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>TrieId is the trie ID</td></tr>
<tr><td>root</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>Root is the root hash to set to</td></tr>
</tbody></table>
<h3><a class="header" href="#trie-1" id="trie-1">Trie</a></h3>
<p>Trie represents a dictionary of key-values that can be built incrementally,
whose root hash at any given time can be also dervied efficiently. Once the
root hash is proven to a blockchain, every key-value is also proven</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>id</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>Id is the trie ID</td></tr>
<tr><td>root</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>Root is the root hash of the trie</td></tr>
</tbody></table>
<h3><a class="header" href="#triekeyvaluerequest" id="triekeyvaluerequest">TrieKeyValueRequest</a></h3>
<p>TrieKeyValueRequest represents a trie key-value request</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>trie_id</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>TrieId is the trie ID</td></tr>
<tr><td>root</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>Root is the root hash (optional). When zero, the current root hash of the trie will be used to retrieve the TrieKeyValues, and the request will be blocked until all ongoing updates are finished</td></tr>
<tr><td>key</td><td><a href="grpc/api_service.html#api.Key">Key</a></td><td></td><td>Key is the key of the key-value</td></tr>
</tbody></table>
<h3><a class="header" href="#triekeyvaluesrequest" id="triekeyvaluesrequest">TrieKeyValuesRequest</a></h3>
<p>TrieKeyValuesRequest represents a trie key-values request. The returned
KeyValues are ordered by the keys lexicographically</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>trie_id</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>TrieId is the trie ID</td></tr>
<tr><td>root</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>Root is the root hash (optional). When zero, the current root hash of the trie will be used to retrieve the TrieKeyValues, and the request will be blocked until all ongoing updates are finished</td></tr>
</tbody></table>
<h3><a class="header" href="#trieproof" id="trieproof">TrieProof</a></h3>
<p>TrieProof represents a proof for a trie at a certain root, which can be
viewed as a snapshot of all the key-values contained in the trie</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>id</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>Id is the ID of the trie proof</td></tr>
<tr><td>trie_id</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>TrieId is the trie ID</td></tr>
<tr><td>root</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>Root is the root hash of the trie proven by this proof</td></tr>
<tr><td>created_at</td><td><a href="grpc/api_service.html#google.protobuf.Timestamp">google.protobuf.Timestamp</a></td><td></td><td>CreatedAt is the created at timestamp. The timestamp when the proof is created</td></tr>
<tr><td>status</td><td><a href="grpc/api_service.html#anchor.Batch.Status">anchor.Batch.Status</a></td><td></td><td>Status is the anchor batch status of the trie proof</td></tr>
<tr><td>error</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>Error is the error message when status is ERROR</td></tr>
<tr><td>anchor_type</td><td><a href="grpc/api_service.html#anchor.Anchor.Type">anchor.Anchor.Type</a></td><td></td><td>AnchorType is the anchor type the trie proof has been submitted to</td></tr>
<tr><td>txn_id</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>TxnId is the blockchain transaction ID</td></tr>
<tr><td>txn_uri</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>TxnUri is the explorer URI for the blockchain transaction</td></tr>
<tr><td>block_time</td><td><a href="grpc/api_service.html#uint64">uint64</a></td><td></td><td>BlockTime is the blockchain's block consensus timestamp in seconds</td></tr>
<tr><td>block_time_nano</td><td><a href="grpc/api_service.html#uint64">uint64</a></td><td></td><td>BlockTimeNano is the Blockcahin's block consensus timestamp's nano part. For most traditional blockchains, this will be zero. For Hedera, this will be the nano part of the transaction's consensus timestamp</td></tr>
<tr><td>block_number</td><td><a href="grpc/api_service.html#uint64">uint64</a></td><td></td><td>BlockNumber is the blockchain's block number. For Hedera, this will be zero as there is no block concept and each transaction has its own consensus timestamp which defines the transaction order</td></tr>
<tr><td>proof_root</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>ProofRoot is the root hash of the trie proof, which is the anchor batch's root hash the proof belongs to</td></tr>
</tbody></table>
<h3><a class="header" href="#trieproofrequest" id="trieproofrequest">TrieProofRequest</a></h3>
<p>TrieProofRequest represents a trie proof request</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>trie_id</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>TrieId is the trie ID</td></tr>
<tr><td>proof_id</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>ProofId is the trie proof ID</td></tr>
<tr><td>root_filter</td><td><a href="grpc/api_service.html#api.RootFilter">RootFilter</a></td><td></td><td>RootFilter is the root filter. A nil filter equals a zero filter</td></tr>
</tbody></table>
<h3><a class="header" href="#trieproofsrequest" id="trieproofsrequest">TrieProofsRequest</a></h3>
<p>TrieProofsRequest represents a trie proofs request. The returned TrieProofs
are ordered by root lexicographically then by created at timestamp
chronologically</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>trie_id</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>TrieId is the trie ID</td></tr>
<tr><td>root_filter</td><td><a href="grpc/api_service.html#api.RootFilter">RootFilter</a></td><td></td><td>RootFilter is the root filter (optional). When nil, all TrieProofs will be returned</td></tr>
</tbody></table>
<h3><a class="header" href="#trierequest" id="trierequest">TrieRequest</a></h3>
<p>TrieRequest represents a trie request</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>trie_id</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>TrieId is the trie ID</td></tr>
</tbody></table>
<h3><a class="header" href="#trieroot" id="trieroot">TrieRoot</a></h3>
<p>TrieRoot represents a root of a trie. Each modification made to the trie will
lead to a new trie root</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>root</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>Root is the root hash of the trie</td></tr>
<tr><td>created_at</td><td><a href="grpc/api_service.html#google.protobuf.Timestamp">google.protobuf.Timestamp</a></td><td></td><td>CreatedAt is the created at timestamp. The timestamp when the root is created</td></tr>
</tbody></table>
<h3><a class="header" href="#trierootsrequest" id="trierootsrequest">TrieRootsRequest</a></h3>
<p>TrieRootsRequest represents a trie roots request. The returned TrieRoots are
in chronological order</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>trie_id</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>TrieId is the trie ID</td></tr>
<tr><td>root_filter</td><td><a href="grpc/api_service.html#api.RootFilter">RootFilter</a></td><td></td><td>RootFilter is the root filter (optional). When nil, all TrieRoots will be returned</td></tr>
</tbody></table>
<h3><a class="header" href="#verifykeyvaluesproofrequest" id="verifykeyvaluesproofrequest">VerifyKeyValuesProofRequest</a></h3>
<p>VerifyKeyValuesProofRequest represents a verify key-values proof request</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>output_key_values</td><td><a href="grpc/api_service.html#bool">bool</a></td><td></td><td>OutputKeyValues indicates whether to output key-values contained in the trie</td></tr>
<tr><td>output_dot_graph</td><td><a href="grpc/api_service.html#bool">bool</a></td><td></td><td>OutputDotGraph indicates whether to output a Graphviz dot graph to visualize the trie</td></tr>
</tbody></table>
<h3><a class="header" href="#verifyproofreply" id="verifyproofreply">VerifyProofReply</a></h3>
<p>VerifyProofReply represents a verify proof reply</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>verified</td><td><a href="grpc/api_service.html#bool">bool</a></td><td></td><td>Verified indicates whether the proof is verified</td></tr>
<tr><td>error</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>Error is the error message when the proof is falsified</td></tr>
</tbody></table>
<h3><a class="header" href="#verifyproofreplychunk" id="verifyproofreplychunk">VerifyProofReplyChunk</a></h3>
<p>VerifyProofReplyChunk represents a chunk of data in the verify proof reply
stream</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>key_value</td><td><a href="grpc/api_service.html#api.KeyValue">KeyValue</a></td><td></td><td>KeyValue is one of the key-values contained in the trie when the OutputKeyValues is true</td></tr>
<tr><td>dot_graph_chunk</td><td><a href="grpc/api_service.html#api.DataChunk">DataChunk</a></td><td></td><td>DotGraphChunk is a chunk of the Graphviz dot graph for the trie when the OutputDotGraph is true</td></tr>
<tr><td>reply</td><td><a href="grpc/api_service.html#api.VerifyProofReply">VerifyProofReply</a></td><td></td><td>VerifyProofReply is the verify proof reply, which should be the data in the last VerifyProofReplyChunk</td></tr>
</tbody></table>
<h3><a class="header" href="#verifytrieproofrequest" id="verifytrieproofrequest">VerifyTrieProofRequest</a></h3>
<p>VerifyTrieProofRequest represents a verify trie proof request</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>trie_id</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>TrieId is the trie ID</td></tr>
<tr><td>proof_id</td><td><a href="grpc/api_service.html#string">string</a></td><td></td><td>ProofId is the trie proof ID</td></tr>
<tr><td>output_key_values</td><td><a href="grpc/api_service.html#bool">bool</a></td><td></td><td>OutputKeyValues indicates whether to output key-values contained in the trie</td></tr>
<tr><td>output_dot_graph</td><td><a href="grpc/api_service.html#bool">bool</a></td><td></td><td>OutputDotGraph indicates whether to output a Graphviz dot graph to visualize the trie</td></tr>
</tbody></table>
<!-- end messages -->
<!-- end enums -->
<!-- end HasExtensions -->
<!-- end files -->
<h2><a class="header" href="#scalar-value-types" id="scalar-value-types">Scalar Value Types</a></h2>
<table><thead><tr><th>.proto Type</th><th>Notes</th><th>C++</th><th>Java</th><th>Python</th><th>Go</th><th>C#</th><th>PHP</th><th>Ruby</th></tr></thead><tbody>
<tr><td><a name="double" /> double</td><td></td><td>double</td><td>double</td><td>float</td><td>float64</td><td>double</td><td>float</td><td>Float</td></tr>
<tr><td><a name="float" /> float</td><td></td><td>float</td><td>float</td><td>float</td><td>float32</td><td>float</td><td>float</td><td>Float</td></tr>
<tr><td><a name="int32" /> int32</td><td>Uses variable-length encoding. Inefficient for encoding negative numbers – if your field is likely to have negative values, use sint32 instead.</td><td>int32</td><td>int</td><td>int</td><td>int32</td><td>int</td><td>integer</td><td>Bignum or Fixnum (as required)</td></tr>
<tr><td><a name="int64" /> int64</td><td>Uses variable-length encoding. Inefficient for encoding negative numbers – if your field is likely to have negative values, use sint64 instead.</td><td>int64</td><td>long</td><td>int/long</td><td>int64</td><td>long</td><td>integer/string</td><td>Bignum</td></tr>
<tr><td><a name="uint32" /> uint32</td><td>Uses variable-length encoding.</td><td>uint32</td><td>int</td><td>int/long</td><td>uint32</td><td>uint</td><td>integer</td><td>Bignum or Fixnum (as required)</td></tr>
<tr><td><a name="uint64" /> uint64</td><td>Uses variable-length encoding.</td><td>uint64</td><td>long</td><td>int/long</td><td>uint64</td><td>ulong</td><td>integer/string</td><td>Bignum or Fixnum (as required)</td></tr>
<tr><td><a name="sint32" /> sint32</td><td>Uses variable-length encoding. Signed int value. These more efficiently encode negative numbers than regular int32s.</td><td>int32</td><td>int</td><td>int</td><td>int32</td><td>int</td><td>integer</td><td>Bignum or Fixnum (as required)</td></tr>
<tr><td><a name="sint64" /> sint64</td><td>Uses variable-length encoding. Signed int value. These more efficiently encode negative numbers than regular int64s.</td><td>int64</td><td>long</td><td>int/long</td><td>int64</td><td>long</td><td>integer/string</td><td>Bignum</td></tr>
<tr><td><a name="fixed32" /> fixed32</td><td>Always four bytes. More efficient than uint32 if values are often greater than 2^28.</td><td>uint32</td><td>int</td><td>int</td><td>uint32</td><td>uint</td><td>integer</td><td>Bignum or Fixnum (as required)</td></tr>
<tr><td><a name="fixed64" /> fixed64</td><td>Always eight bytes. More efficient than uint64 if values are often greater than 2^56.</td><td>uint64</td><td>long</td><td>int/long</td><td>uint64</td><td>ulong</td><td>integer/string</td><td>Bignum</td></tr>
<tr><td><a name="sfixed32" /> sfixed32</td><td>Always four bytes.</td><td>int32</td><td>int</td><td>int</td><td>int32</td><td>int</td><td>integer</td><td>Bignum or Fixnum (as required)</td></tr>
<tr><td><a name="sfixed64" /> sfixed64</td><td>Always eight bytes.</td><td>int64</td><td>long</td><td>int/long</td><td>int64</td><td>long</td><td>integer/string</td><td>Bignum</td></tr>
<tr><td><a name="bool" /> bool</td><td></td><td>bool</td><td>boolean</td><td>boolean</td><td>bool</td><td>bool</td><td>boolean</td><td>TrueClass/FalseClass</td></tr>
<tr><td><a name="string" /> string</td><td>A string must always contain UTF-8 encoded or 7-bit ASCII text.</td><td>string</td><td>String</td><td>str/unicode</td><td>string</td><td>string</td><td>string</td><td>String (UTF-8)</td></tr>
<tr><td><a name="bytes" /> bytes</td><td>May contain any arbitrary sequence of bytes.</td><td>string</td><td>ByteString</td><td>str</td><td>[]byte</td><td>ByteString</td><td>string</td><td>String (ASCII-8BIT)</td></tr>
</tbody></table>
<h1><a class="header" href="#anchor-service" id="anchor-service">Anchor Service</a></h1>
<p>Anchor Service continuously anchors hashes to blockchains, which is similar
to what Chainpoint does, but with much better performance and flexibility. It
supports multiple anchor types and proof formats. Digital signing can be also
done at the Merkle root level</p>
<p>Protobuf definition: <a href="https://github.com/SouthbankSoftware/proofable/blob/master/pkg/protos/anchor/anchor.proto">anchor/anchor.proto</a></p>
<h2><a class="header" href="#table-of-contents-1" id="table-of-contents-1">Table of Contents</a></h2>
<ul>
<li><a href="grpc/anchor_service.html#anchorservice">AnchorService</a></li>
<li><a href="grpc/anchor_service.html#anchor">Anchor</a></li>
<li><a href="grpc/anchor_service.html#anchorrequest">AnchorRequest</a></li>
<li><a href="grpc/anchor_service.html#batch">Batch</a></li>
<li><a href="grpc/anchor_service.html#batchrequest">BatchRequest</a></li>
<li><a href="grpc/anchor_service.html#proof">Proof</a></li>
<li><a href="grpc/anchor_service.html#proofrequest">ProofRequest</a></li>
<li><a href="grpc/anchor_service.html#submitproofrequest">SubmitProofRequest</a></li>
<li><a href="grpc/anchor_service.html#subscribebatchesrequest">SubscribeBatchesRequest</a></li>
<li><a href="grpc/anchor_service.html#verifyproofreply">VerifyProofReply</a></li>
<li><a href="grpc/anchor_service.html#verifyproofrequest">VerifyProofRequest</a></li>
<li><a href="grpc/anchor_service.html#anchorstatus">Anchor.Status</a></li>
<li><a href="grpc/anchor_service.html#anchortype">Anchor.Type</a></li>
<li><a href="grpc/anchor_service.html#batchstatus">Batch.Status</a></li>
<li><a href="grpc/anchor_service.html#proofformat">Proof.Format</a></li>
<li><a href="grpc/anchor_service.html#scalar-value-types">Scalar Value Types</a></li>
</ul>
<h3><a class="header" href="#anchorservice" id="anchorservice">AnchorService</a></h3>
<table><thead><tr><th>Method Name</th><th>Request Type</th><th>Response Type</th><th>Description</th></tr></thead><tbody>
<tr><td>GetAnchors</td><td><a href="grpc/anchor_service.html#google.protobuf.Empty">.google.protobuf.Empty</a></td><td><a href="grpc/anchor_service.html#anchor.Anchor">Anchor</a> stream</td><td>GetAnchors gets all anchors</td></tr>
<tr><td>GetAnchor</td><td><a href="grpc/anchor_service.html#anchor.AnchorRequest">AnchorRequest</a></td><td><a href="grpc/anchor_service.html#anchor.Anchor">Anchor</a></td><td>GetAnchor gets an anchor</td></tr>
<tr><td>GetProof</td><td><a href="grpc/anchor_service.html#anchor.ProofRequest">ProofRequest</a></td><td><a href="grpc/anchor_service.html#anchor.Proof">Proof</a></td><td>GetProof gets a proof</td></tr>
<tr><td>SubmitProof</td><td><a href="grpc/anchor_service.html#anchor.SubmitProofRequest">SubmitProofRequest</a></td><td><a href="grpc/anchor_service.html#anchor.Proof">Proof</a></td><td>SubmitProof submits a proof for the given hash</td></tr>
<tr><td>VerifyProof</td><td><a href="grpc/anchor_service.html#anchor.VerifyProofRequest">VerifyProofRequest</a></td><td><a href="grpc/anchor_service.html#anchor.VerifyProofReply">VerifyProofReply</a></td><td>VerifyProof verifies the given proof. When the proof is unverifiable, an exception is thrown</td></tr>
<tr><td>GetBatch</td><td><a href="grpc/anchor_service.html#anchor.BatchRequest">BatchRequest</a></td><td><a href="grpc/anchor_service.html#anchor.Batch">Batch</a></td><td>GetBatch gets a batch</td></tr>
<tr><td>SubscribeBatches</td><td><a href="grpc/anchor_service.html#anchor.SubscribeBatchesRequest">SubscribeBatchesRequest</a></td><td><a href="grpc/anchor_service.html#anchor.Batch">Batch</a> stream</td><td>SubscribeBatches subscribes to batch status updates</td></tr>
</tbody></table>
<!-- end services -->
<h3><a class="header" href="#anchor" id="anchor">Anchor</a></h3>
<p>Anchor represents an anchor of a blockchain, through which a hash can be
anchored to that blockchain</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>type</td><td><a href="grpc/anchor_service.html#anchor.Anchor.Type">Anchor.Type</a></td><td></td><td>Type is the anchor type</td></tr>
<tr><td>status</td><td><a href="grpc/anchor_service.html#anchor.Anchor.Status">Anchor.Status</a></td><td></td><td>Status is the anchor status</td></tr>
<tr><td>error</td><td><a href="grpc/anchor_service.html#string">string</a></td><td></td><td>Error is the error message when the anchor status is ERROR</td></tr>
<tr><td>supported_formats</td><td><a href="grpc/anchor_service.html#anchor.Proof.Format">Proof.Format</a></td><td>repeated</td><td>SupportedFormats are the supported proof formats of the anchor</td></tr>
</tbody></table>
<h3><a class="header" href="#anchorrequest" id="anchorrequest">AnchorRequest</a></h3>
<p>AnchorRequest represents a request to get information for the given anchor
type</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>type</td><td><a href="grpc/anchor_service.html#anchor.Anchor.Type">Anchor.Type</a></td><td></td><td>Type is the anchor type</td></tr>
</tbody></table>
<h3><a class="header" href="#batch" id="batch">Batch</a></h3>
<p>Batch represents a batch of hashes. When hash stream comes in, Anchor Service
will try to process them in batches, just like blockchain processes
transactions in blocks. This makes utilization of expensive resources, such
as making Bitcoin transaction, more economic. Each batch's root hash will be
embedded in a transaction made to the blockchain</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>id</td><td><a href="grpc/anchor_service.html#string">string</a></td><td></td><td>Id is the batch ID</td></tr>
<tr><td>anchor_type</td><td><a href="grpc/anchor_service.html#anchor.Anchor.Type">Anchor.Type</a></td><td></td><td>AnchorType is the batch's anchor type</td></tr>
<tr><td>proof_format</td><td><a href="grpc/anchor_service.html#anchor.Proof.Format">Proof.Format</a></td><td></td><td>ProofFormat is the batch's proof format, which determines how the merkle tree is constructed for the batch.</td></tr>
<tr><td>status</td><td><a href="grpc/anchor_service.html#anchor.Batch.Status">Batch.Status</a></td><td></td><td>Status is the batch status. FLOW: created_at -&gt; BATCHING -&gt; flushed_at -&gt; QUEUING -&gt; started_at -&gt; PROCESSING -&gt; submitted_at -&gt; PENDING -&gt; finalized_at -&gt; CONFIRMED / ERROR; * -&gt; ERROR; if a batch has not yet reached PENDING and its anchor has restarted, the batch will be put back to QUEUING</td></tr>
<tr><td>error</td><td><a href="grpc/anchor_service.html#string">string</a></td><td></td><td>Error is the error message when status is ERROR</td></tr>
<tr><td>size</td><td><a href="grpc/anchor_service.html#int64">int64</a></td><td></td><td>Size is the number of hashes contained in the batch</td></tr>
<tr><td>created_at</td><td><a href="grpc/anchor_service.html#google.protobuf.Timestamp">google.protobuf.Timestamp</a></td><td></td><td>CreateAt is the batch's created at timestamp. FLOW: created_at -&gt; BATCHING</td></tr>
<tr><td>flushed_at</td><td><a href="grpc/anchor_service.html#google.protobuf.Timestamp">google.protobuf.Timestamp</a></td><td></td><td>FlushedAt is the batch's flushed at timestamp. FLOW: BATCHING -&gt; flushed_at -&gt; QUEUING</td></tr>
<tr><td>started_at</td><td><a href="grpc/anchor_service.html#google.protobuf.Timestamp">google.protobuf.Timestamp</a></td><td></td><td>StartedAt is the batch's started at timestamp. FLOW: QUEUING -&gt; started_at -&gt; PROCESSING</td></tr>
<tr><td>submitted_at</td><td><a href="grpc/anchor_service.html#google.protobuf.Timestamp">google.protobuf.Timestamp</a></td><td></td><td>SubmittedAt is the batch's submitted at timestamp. FLOW: PROCESSING -&gt; submitted_at -&gt; PENDING</td></tr>
<tr><td>finalized_at</td><td><a href="grpc/anchor_service.html#google.protobuf.Timestamp">google.protobuf.Timestamp</a></td><td></td><td>FinalizedAt is the batch's finalized at timestamp. FLOW: * -&gt; finalized_at -&gt; CONFIRMED / ERROR. NOTE: this is not the real block confirmed time, use the timestamp in the batch data instead</td></tr>
<tr><td>hash</td><td><a href="grpc/anchor_service.html#string">string</a></td><td></td><td>Hash is the batch's root hash</td></tr>
<tr><td>data</td><td><a href="grpc/anchor_service.html#string">string</a></td><td></td><td>Data is the batch data in JSON</td></tr>
</tbody></table>
<h3><a class="header" href="#batchrequest" id="batchrequest">BatchRequest</a></h3>
<p>BatchRequest represents a batch request</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>batch_id</td><td><a href="grpc/anchor_service.html#string">string</a></td><td></td><td>BatchId is the batch ID</td></tr>
<tr><td>anchor_type</td><td><a href="grpc/anchor_service.html#anchor.Anchor.Type">Anchor.Type</a></td><td></td><td>AnchorType is the batch's anchor type</td></tr>
</tbody></table>
<h3><a class="header" href="#proof" id="proof">Proof</a></h3>
<p>Proof represents a blockchain proof of a hash, which is a Merkle path from
the hash to the root hash of the proof's batch</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>hash</td><td><a href="grpc/anchor_service.html#string">string</a></td><td></td><td>Hash is the hash the proof is proving for</td></tr>
<tr><td>batch_id</td><td><a href="grpc/anchor_service.html#string">string</a></td><td></td><td>BatchId is the proof's batch ID</td></tr>
<tr><td>anchor_type</td><td><a href="grpc/anchor_service.html#anchor.Anchor.Type">Anchor.Type</a></td><td></td><td>AnchorType is the proof's anchor type</td></tr>
<tr><td>batch_status</td><td><a href="grpc/anchor_service.html#anchor.Batch.Status">Batch.Status</a></td><td></td><td>BatchStatus is the proof's batch status</td></tr>
<tr><td>format</td><td><a href="grpc/anchor_service.html#anchor.Proof.Format">Proof.Format</a></td><td></td><td>Format is the proof format</td></tr>
<tr><td>data</td><td><a href="grpc/anchor_service.html#string">string</a></td><td></td><td>Data is the proof data in base64</td></tr>
<tr><td>batch</td><td><a href="grpc/anchor_service.html#anchor.Batch">Batch</a></td><td></td><td>Batch is the proof's batch detail</td></tr>
</tbody></table>
<h3><a class="header" href="#proofrequest" id="proofrequest">ProofRequest</a></h3>
<p>ProofRequest represents a proof request</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>hash</td><td><a href="grpc/anchor_service.html#string">string</a></td><td></td><td>Hash is the hash the proof is proving for</td></tr>
<tr><td>batch_id</td><td><a href="grpc/anchor_service.html#string">string</a></td><td></td><td>BatchId is the proof's batch ID</td></tr>
<tr><td>anchor_type</td><td><a href="grpc/anchor_service.html#anchor.Anchor.Type">Anchor.Type</a></td><td></td><td>AnchorType is the proof's anchor type</td></tr>
<tr><td>with_batch</td><td><a href="grpc/anchor_service.html#bool">bool</a></td><td></td><td>WithBatch indicates whether to include the proof's batch detail</td></tr>
</tbody></table>
<h3><a class="header" href="#submitproofrequest" id="submitproofrequest">SubmitProofRequest</a></h3>
<p>SubmitProofRequest represents a submit proof request</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>hash</td><td><a href="grpc/anchor_service.html#string">string</a></td><td></td><td>Hash is the hash to be submitted</td></tr>
<tr><td>anchor_type</td><td><a href="grpc/anchor_service.html#anchor.Anchor.Type">Anchor.Type</a></td><td></td><td>AnchorType is the anchor type to be used</td></tr>
<tr><td>format</td><td><a href="grpc/anchor_service.html#anchor.Proof.Format">Proof.Format</a></td><td></td><td>Format is the proof format to be used</td></tr>
<tr><td>skip_batching</td><td><a href="grpc/anchor_service.html#bool">bool</a></td><td></td><td>SkipBatching indicates whether to skip batching and submit a proof for the hash directly</td></tr>
<tr><td>with_batch</td><td><a href="grpc/anchor_service.html#bool">bool</a></td><td></td><td>WithBatch indicates whether to include the batch detail in the reply</td></tr>
</tbody></table>
<h3><a class="header" href="#subscribebatchesrequest" id="subscribebatchesrequest">SubscribeBatchesRequest</a></h3>
<p>SubscribeBatchesRequest represents a subscription request for batch
information</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>filter</td><td><a href="grpc/anchor_service.html#anchor.BatchRequest">BatchRequest</a></td><td></td><td>Filter is the batch filter. When nil, all batches of all anchors will be subscribed; otherwise, only the batches of the given anchor will be subscribed; if batch_id is non-empty, only the matched batch will be subscribed</td></tr>
</tbody></table>
<h3><a class="header" href="#verifyproofreply-1" id="verifyproofreply-1">VerifyProofReply</a></h3>
<p>VerifyProofReply represents a verify proof reply</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>verified</td><td><a href="grpc/anchor_service.html#bool">bool</a></td><td></td><td>Verified indicates whether the proof is verified</td></tr>
<tr><td>error</td><td><a href="grpc/anchor_service.html#string">string</a></td><td></td><td>Erorr is the error message when the proof is falsified</td></tr>
<tr><td>provenHash</td><td><a href="grpc/anchor_service.html#string">string</a></td><td></td><td>ProvenHash is the hash the proof is proving for</td></tr>
</tbody></table>
<h3><a class="header" href="#verifyproofrequest" id="verifyproofrequest">VerifyProofRequest</a></h3>
<p>VerifyProofRequest represents a verify proof request</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>anchor_type</td><td><a href="grpc/anchor_service.html#anchor.Anchor.Type">Anchor.Type</a></td><td></td><td>AnchorType is the proof's anchor type</td></tr>
<tr><td>format</td><td><a href="grpc/anchor_service.html#anchor.Proof.Format">Proof.Format</a></td><td></td><td>Format is the proof format. If skipping the signature checking is desired, please use the corresponding non-signed format, eg. use CHP_PATH instead of CHP_PATH_SIGNED in request</td></tr>
<tr><td>data</td><td><a href="grpc/anchor_service.html#string">string</a></td><td></td><td>Data is the proof data in base64</td></tr>
</tbody></table>
<!-- end messages -->
<h3><a class="header" href="#anchorstatus" id="anchorstatus">Anchor.Status</a></h3>
<p>Status represents an anchor's status</p>
<table><thead><tr><th>Name</th><th>Number</th><th>Description</th></tr></thead><tbody>
<tr><td>ERROR</td><td>0</td><td>Error means the anchor has an error</td></tr>
<tr><td>STOPPED</td><td>1</td><td>STOPPED means the anchor is stopped</td></tr>
<tr><td>RUNNING</td><td>2</td><td>RUNNING means the anchor is running</td></tr>
</tbody></table>
<h3><a class="header" href="#anchortype" id="anchortype">Anchor.Type</a></h3>
<p>Type represents an anchor type. Please refer to this
<a href="https://docs.proofable.io/concepts/anchor_types.html">list</a> for all
available anchor types</p>
<table><thead><tr><th>Name</th><th>Number</th><th>Description</th></tr></thead><tbody>
<tr><td>ETH</td><td>0</td><td><a href="https://ethereum.org/">Ethereum</a> Rinkeby Testnet</td></tr>
<tr><td>ETH_MAINNET</td><td>3</td><td>Ethereum Mainnet. <a href="https://ethereum.org/">Ethereum</a> is the second-largest cryptocurrency</td></tr>
<tr><td>ETH_ELASTOS</td><td>4</td><td><a href="https://www.elastos.org/">Elastos</a>, which employs a &quot;main chain-sidechain architecture&quot;</td></tr>
<tr><td>ETH_GOCHAIN</td><td>9</td><td><a href="https://gochain.io/">GoChain</a>, which is scalable, low cost and energy efficient</td></tr>
<tr><td>BTC</td><td>1</td><td><a href="https://bitcoin.org/">Bitcoin</a> Testnet</td></tr>
<tr><td>BTC_MAINNET</td><td>5</td><td>Bitcoin Mainnet. <a href="https://bitcoin.org/">Bitcoin</a> is the largest cryptocurrency</td></tr>
<tr><td>CHP</td><td>2</td><td><a href="https://chainpoint.org/">Chainpoint</a></td></tr>
<tr><td>HEDERA</td><td>6</td><td>Hedera Testnet</td></tr>
<tr><td>HEDERA_MAINNET</td><td>7</td><td>Hedera Mainnet. <a href="https://www.hedera.com/">Hedera</a> is a DAG based blockchain that provides much better TPS than tranditional blockchains</td></tr>
<tr><td>HYPERLEDGER</td><td>8</td><td><a href="https://www.hyperledger.org/use/fabric">Hyperledger Fabric</a>, which is a modular blockchain framework for private enterprises</td></tr>
</tbody></table>
<h3><a class="header" href="#batchstatus" id="batchstatus">Batch.Status</a></h3>
<p>Status represents a batch's status</p>
<table><thead><tr><th>Name</th><th>Number</th><th>Description</th></tr></thead><tbody>
<tr><td>ERROR</td><td>0</td><td>ERROR means the batch has an error. FLOW: * -&gt; ERROR</td></tr>
<tr><td>BATCHING</td><td>1</td><td>BATCHING means the batch is batching for more hashes. FLOW: created_at -&gt; BATCHING -&gt; flushed_at</td></tr>
<tr><td>QUEUING</td><td>2</td><td>QUEUING means the batch is queuing to be processed. FLOW: flushed_at -&gt; QUEUING -&gt; started_at</td></tr>
<tr><td>PROCESSING</td><td>3</td><td>PROCESSING means the batch is constructing merkle roots and submitting hashes. FLOW: started_at -&gt; PROCESSING -&gt; submitted_at</td></tr>
<tr><td>PENDING</td><td>4</td><td>PENDING means the batch's root hash is pending to be confirmed. FLOW: submitted_at -&gt; PENDING -&gt; finalized_at</td></tr>
<tr><td>CONFIRMED</td><td>5</td><td>CONFIRMED means the batch's root hash is confirmed by the anchor's blockchain. FLOW: finalized_at -&gt; CONFIRMED</td></tr>
</tbody></table>
<h3><a class="header" href="#proofformat" id="proofformat">Proof.Format</a></h3>
<p>Format represents a proof format</p>
<table><thead><tr><th>Name</th><th>Number</th><th>Description</th></tr></thead><tbody>
<tr><td>CHP_PATH</td><td>0</td><td>CHP_PATH means Chainpoint Path format, which is the format used by Chainpoint</td></tr>
<tr><td>ETH_TRIE</td><td>1</td><td>ETH_TRIE means Ethereum Trie format</td></tr>
<tr><td>CHP_PATH_SIGNED</td><td>2</td><td>CHP_PATH_SIGNED means signed Chainpoint Path format</td></tr>
<tr><td>ETH_TRIE_SIGNED</td><td>3</td><td>ETH_TRIE_SIGNED means signed Ethereum Trie format</td></tr>
</tbody></table>
<!-- end enums -->
<!-- end HasExtensions -->
<!-- end files -->
<h2><a class="header" href="#scalar-value-types-1" id="scalar-value-types-1">Scalar Value Types</a></h2>
<table><thead><tr><th>.proto Type</th><th>Notes</th><th>C++</th><th>Java</th><th>Python</th><th>Go</th><th>C#</th><th>PHP</th><th>Ruby</th></tr></thead><tbody>
<tr><td><a name="double" /> double</td><td></td><td>double</td><td>double</td><td>float</td><td>float64</td><td>double</td><td>float</td><td>Float</td></tr>
<tr><td><a name="float" /> float</td><td></td><td>float</td><td>float</td><td>float</td><td>float32</td><td>float</td><td>float</td><td>Float</td></tr>
<tr><td><a name="int32" /> int32</td><td>Uses variable-length encoding. Inefficient for encoding negative numbers – if your field is likely to have negative values, use sint32 instead.</td><td>int32</td><td>int</td><td>int</td><td>int32</td><td>int</td><td>integer</td><td>Bignum or Fixnum (as required)</td></tr>
<tr><td><a name="int64" /> int64</td><td>Uses variable-length encoding. Inefficient for encoding negative numbers – if your field is likely to have negative values, use sint64 instead.</td><td>int64</td><td>long</td><td>int/long</td><td>int64</td><td>long</td><td>integer/string</td><td>Bignum</td></tr>
<tr><td><a name="uint32" /> uint32</td><td>Uses variable-length encoding.</td><td>uint32</td><td>int</td><td>int/long</td><td>uint32</td><td>uint</td><td>integer</td><td>Bignum or Fixnum (as required)</td></tr>
<tr><td><a name="uint64" /> uint64</td><td>Uses variable-length encoding.</td><td>uint64</td><td>long</td><td>int/long</td><td>uint64</td><td>ulong</td><td>integer/string</td><td>Bignum or Fixnum (as required)</td></tr>
<tr><td><a name="sint32" /> sint32</td><td>Uses variable-length encoding. Signed int value. These more efficiently encode negative numbers than regular int32s.</td><td>int32</td><td>int</td><td>int</td><td>int32</td><td>int</td><td>integer</td><td>Bignum or Fixnum (as required)</td></tr>
<tr><td><a name="sint64" /> sint64</td><td>Uses variable-length encoding. Signed int value. These more efficiently encode negative numbers than regular int64s.</td><td>int64</td><td>long</td><td>int/long</td><td>int64</td><td>long</td><td>integer/string</td><td>Bignum</td></tr>
<tr><td><a name="fixed32" /> fixed32</td><td>Always four bytes. More efficient than uint32 if values are often greater than 2^28.</td><td>uint32</td><td>int</td><td>int</td><td>uint32</td><td>uint</td><td>integer</td><td>Bignum or Fixnum (as required)</td></tr>
<tr><td><a name="fixed64" /> fixed64</td><td>Always eight bytes. More efficient than uint64 if values are often greater than 2^56.</td><td>uint64</td><td>long</td><td>int/long</td><td>uint64</td><td>ulong</td><td>integer/string</td><td>Bignum</td></tr>
<tr><td><a name="sfixed32" /> sfixed32</td><td>Always four bytes.</td><td>int32</td><td>int</td><td>int</td><td>int32</td><td>int</td><td>integer</td><td>Bignum or Fixnum (as required)</td></tr>
<tr><td><a name="sfixed64" /> sfixed64</td><td>Always eight bytes.</td><td>int64</td><td>long</td><td>int/long</td><td>int64</td><td>long</td><td>integer/string</td><td>Bignum</td></tr>
<tr><td><a name="bool" /> bool</td><td></td><td>bool</td><td>boolean</td><td>boolean</td><td>bool</td><td>bool</td><td>boolean</td><td>TrueClass/FalseClass</td></tr>
<tr><td><a name="string" /> string</td><td>A string must always contain UTF-8 encoded or 7-bit ASCII text.</td><td>string</td><td>String</td><td>str/unicode</td><td>string</td><td>string</td><td>string</td><td>String (UTF-8)</td></tr>
<tr><td><a name="bytes" /> bytes</td><td>May contain any arbitrary sequence of bytes.</td><td>string</td><td>ByteString</td><td>str</td><td>[]byte</td><td>ByteString</td><td>string</td><td>String (ASCII-8BIT)</td></tr>
</tbody></table>
<h1><a class="header" href="#contribution" id="contribution">Contribution</a></h1>
<p>Here is the documentation for our contributors</p>
<h1><a class="header" href="#update-documentation" id="update-documentation">Update documentation</a></h1>
<h2><a class="header" href="#setup-docs-compiling-environment" id="setup-docs-compiling-environment">Setup docs compiling environment</a></h2>
<ol>
<li>
<p>Make sure the following dependencies are installed:</p>
<ul>
<li>Node: LTS version v12.16.3+</li>
<li>Rust: v1.46.0+</li>
</ul>
</li>
<li>
<p>Install <a href="https://github.com/rust-lang/mdBook"><code>mdBook</code></a></p>
<pre><code class="language-zsh">cargo install mdbook
</code></pre>
</li>
<li>
<p>Initialize docs compiling environment</p>
<pre><code class="language-zsh">make doc-init
</code></pre>
<p>You can use <code>make doc-clean</code> to cleanup files generated in this step. If you want to redo the initialization, please do a cleanup first</p>
</li>
</ol>
<h2><a class="header" href="#update-docs" id="update-docs">Update docs</a></h2>
<ol>
<li>
<p>Run docs dev server:</p>
<pre><code class="language-zsh">make doc-dev
</code></pre>
<p>and a open browser tab at <code>http://localhost:3000</code></p>
</li>
<li>
<p>Make changes to Markdown files in <code>docs</code> directory, which will trigger the dev server to hot-reload the docs in the browser. This is a good way for to preview the changes. Please note that anything other than a symbolic link or a Markdown file in <code>docs</code> will be copied to <code>docs_output/book/html</code> by <code>make doc-dev</code> or <code>mmake doc-build</code> then be synced to <code>docs_output/gh-pages</code> by <code>make doc-deploy</code> with extraneous files removed. So if you want to add a file to <code>gh-pages</code>, add to <code>docs</code> first, otherwise that file will be deleted during the syncing</p>
</li>
</ol>
<p>Notes:</p>
<ul>
<li>
<p>If you have changed the anchor types in protos or their configuration in <code>provendb-releases</code>, you need to regenerate the Anchor Types page at <code>docs/concepts/anchor_types.md</code></p>
<pre><code class="language-zsh">make doc-anchortypes
</code></pre>
</li>
<li>
<p>If you have changed the Node SDK code, you need to regenerate the Node SDK reference at <code>docs_output/gh-pages/node_sdk/reference</code></p>
<pre><code class="language-zsh">make doc-node
</code></pre>
</li>
<li>
<p>If you want to temporarily ignore a link when building the docs, you can add it to <code>output.linkcheck.exclude</code> in <code>book.toml</code>. Please remember to remove it after you have fixed your problem</p>
</li>
</ul>
<h2><a class="header" href="#deploy-updated-docs" id="deploy-updated-docs">Deploy updated docs</a></h2>
<ol>
<li>
<p>Make a production build of the docs</p>
<pre><code class="language-zsh">make doc-build
</code></pre>
<p>this will generate the htmls in <code>docs_output/book</code></p>
</li>
<li>
<p>Sync changes to the checked out <code>gh-pages</code> branch at <code>docs_output/gh-pages</code> from <code>docs_output/book/html</code></p>
<pre><code class="language-zsh">make doc-deploy
</code></pre>
</li>
<li>
<p>Go to the <code>gh-pages</code> checkout: <code>cd docs_output/gh-pages</code>, review the changes and commit</p>
</li>
</ol>
<h1><a class="header" href="#publish-a-new-version" id="publish-a-new-version">Publish a new version</a></h1>
<h2><a class="header" href="#node-sdk-npm" id="node-sdk-npm">Node SDK (NPM)</a></h2>
<ol>
<li><code>npm login</code> (southbanksoftwareadmin)</li>
<li><code>npm version patch</code> (or minor, major)</li>
<li><code>npm publish</code></li>
</ol>
<h2><a class="header" href="#go-sdk--proofable-cli" id="go-sdk--proofable-cli">Go SDK &amp; Proofable CLI</a></h2>
<ol>
<li>
<p>tag the commit using the version from <a href="https://concourse.provendb.com/teams/main/pipelines/proofable-deploy/jobs/build-and-deploy/builds/latest">CI</a></p>
<p><img src="contribution/../images/proofable-cli_ci_version.png" alt="Proofable CLI CI Version" /></p>
</li>
<li>
<p>copy binaries from <code>dev</code> to <code>stg</code></p>
<pre><code class="language-zsh">gsutil -m cp -ra public-read &quot;gs://provendb-dev/proofable-cli/*&quot; &quot;gs://provendb-stg/proofable-cli&quot;
</code></pre>
</li>
<li>
<p>copy binaries from <code>stg</code> to <code>prd</code></p>
<pre><code class="language-zsh">gsutil -m cp -ra public-read &quot;gs://provendb-stg/proofable-cli/*&quot; &quot;gs://provendb-prd/proofable-cli&quot;
</code></pre>
</li>
<li>
<p>publish a new version to <a href="https://github.com/SouthbankSoftware/homebrew-proofable">Proofable Homebrew tap</a>:</p>
<ol>
<li>
<p>make sure the <a href="https://github.com/SouthbankSoftware/homebrew-proofable">tap</a> is enabled. You can skip this step if it has already been done</p>
<pre><code class="language-zsh">brew tap southbanksoftware/proofable
</code></pre>
</li>
<li>
<p>go to edit the checked out Formula file</p>
<pre><code class="language-zsh">cd $(brew --repo southbanksoftware/proofable)
code Formula/proofable-cli.rb
</code></pre>
</li>
<li>
<p>modify the <code>url</code> to point to the new version (the CI binary version in step 1) and remove the <code>sha256</code> field, then run the following to get the new sha256 hash</p>
<pre><code class="language-zsh">brew fetch proofable-cli --build-from-source
</code></pre>
<p>Finally, re-add the <code>sha256</code> field in <code>proofable-cli.rb</code></p>
</li>
<li>
<p>create a PR for the change</p>
<pre><code class="language-zsh"># change v0.2.13 to the correct version
git checkout -b release/v0.2.13
git commit -am &quot;Release v0.2.13&quot;
gh pr create --title &quot;Release v0.2.13&quot; --body &quot;Normal release&quot;
</code></pre>
</li>
<li>
<p>wait for the PR test to pass and merge</p>
</li>
<li>
<p>checkout out <code>master</code> and pull the latest for future development</p>
<pre><code class="language-zsh">git checkout master
git pull
</code></pre>
</li>
</ol>
</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        
        <!-- Google Analytics Tag -->
        <script type="text/javascript">
            var localAddrs = ["localhost", "127.0.0.1", ""];

            // make sure we don't activate google analytics if the developer is
            // inspecting the book locally...
            if (localAddrs.indexOf(document.location.hostname) === -1) {
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-101162043-19', 'auto');
                ga('send', 'pageview');
            }
        </script>
        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
